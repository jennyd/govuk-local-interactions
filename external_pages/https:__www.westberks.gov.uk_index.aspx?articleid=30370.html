

    
    
    
    <!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb">
    <head>
        <title>
            West Berkshire Council            -
            Report a Personal Injury or Damage to Your Property        </title>
        <base href="https://www.westberks.gov.uk/" />
        <meta name="description" content="To report an incident of personal injury or damage to your property" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=9" />
        
        <link href="./shared/css/bootstrap.min.css" rel="stylesheet" />
        <link href="./shared/css/style.css" rel="stylesheet" />
        <link href="./service/assets/css/style.css" rel="stylesheet" />
        <!--[if lt IE 9]>
        <link href="./shared/css/ie8.css" rel="stylesheet" />
        <script src="./shared/js/html5shiv.js"></script>
        <script src="./shared/js/respond.min.js"></script>
        <![endif]-->
        
        <link href="./service/template/form/css/form.css" rel="stylesheet" type="text/css" media="all" />

        
        
        <link rel="alternate" type="application/rss+xml" title="RSS" href="index.aspx?articleid=9449" />
        <script type="text/javascript" src="./shared/js/jscriptutils.js"></script>
    </head>
    <body id="body">
        
        <!--googleoff: all-->        <div id="page">
            <h1 class="hidefromview">West Berkshire Council</h1>
            
                    


        
        <!--googleoff: all-->        <div id="header" class="container">           
        <div class="navbar navbar-default">                            
                <div class="navbar-header"><a href="http://www.westberks.gov.uk"><span style="width:200px; height:60px; display:table; float:left;"><span class="hidefromview">Home</span></span></a>
                    <div class="nav-buttons">
                        <button id="search_button" data-target="#nav_searchform_small" data-toggle="collapse"
                            class="navbar-toggle btn btn-default search-button" type="submit">
                            <span class="glyphicon glyphicon-search header-search">
                                <span class="hidefromview">Search</span></span>
                        </button>
                    </div>
                </div>
                <div id="nav_searchform_main" class="hidden-xs">
                    <form action="shared/search_direct.aspx" class="nav_searchform" method="post">
                    <div class="input-group">
                        <label class="hidefromview" for="sitesearch">
                            Enter your search</label>
                        <input id="sitesearch" name="q" type="text" class="form-control nav_search" />
                        <span class="input-group-btn">
                            <button class="btn btn-default search-button" type="submit">
                                <span class="glyphicon glyphicon-search"><span class="hidefromview">Search</span></span></button>
                        </span>
                    </div>
                    <input name="currentsearchid" type="hidden" value="28266">
                    </form>
                </div>
                <div id="toputilnav" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
    
    
    
    
    
        </ul> </div></div></div>
        <div id="nav_searchform_small" class="nav-collapse collapse">
            <form action="shared/search_direct.aspx" class="nav_searchform" method="post">
            <div class="input-group">
                <label class="hidefromview" for="sitesearchmobile">
                    Enter your search</label>
                <input id="sitesearchmobile" name="q" type="text" class="form-control nav_search" />
                <span class="input-group-btn">
                    <button class="btn btn-default search-button" type="submit">
                        <span class="glyphicon glyphicon-search header-search">
                            <span class="hidefromview">Search</span></span>
                    </button>
                </span>
            </div>
            <input name="currentsearchid" type="hidden" value="28266">
            </form>
        </div>
        <!--googleon: all-->    


                
            
                    


		<div id="crumbtrail" class="crumbtrail">
	
		<div class="breadcrumbitem">
            
				<a href="http://www.westberks.gov.uk">Home</a>
			
             
		</div>
	
		<div class="breadcrumbitem">
            
             
			
				<a href="http://www.westberks.gov.uk/index.aspx?articleid=27104" title="Roads, Transport and Parking">> Roads, Transport and Parking</a>
			
            
		</div>
	
		<div class="breadcrumbitem">
            
             
			
				<a href="http://www.westberks.gov.uk/index.aspx?articleid=28245" title="Roads">> Roads</a>
			
            
		</div>
	
		<div class="breadcrumbitem">
            
             
			
            
		</div>
	
    <div class="hidden-xs hidden-vs">
       
			
   </div>
		</div>


                
            <div id="content" class="container">
                



                <div class="row">
                    <div class="col-md-12">
                        <!--googleon: all-->                        
	
	
  


	
			
    
    
	
    <div class="row">
    <div id="defaultcontent" class="col-md-9 col-lg-9">
    <h1 id="title">Report a Personal Injury or Damage to Your Property</h1>
	<h2 id="intro">To report an incident of personal injury or damage to your property</h2>
            

    
	<p>Should you wish to report an incident of personal injury or damage to property, please complete the Incident Report Form below.&nbsp;We'll send&nbsp;a formal acknowledgement of your online submission within 21 working days from the council's insurer, Zurich Municipal.<br />Should you have any queries, please email <a href="mailto:insurance@westberks.gov.uk">insurance@westberks.gov.uk</a></p>
    </div>
    </div>
    <br style="clear:both"/>
             
        

		
    <a name="form"></a>
    

    


		<a id="form" class="formstart">iCM Form</a><div class="content"><div><div class="formcontents">    <!-- JSON Support for older browsers -->
    <script type="text/javascript"> 
      /* <![CDATA[ */
	// Make sure JSON support is available in the browser. This is a minified version of json2.js from http://www.json.org
	// NOTE: So store in a skeleton all backslash characters need to be replaced with double back slash
	var JSON;if(!JSON){JSON={}}(function(){'use strict';function f(n){return n<10?'0'+n:n}if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key)}if(typeof rep==='function'){value=rep.call(holder,key,value)}switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null'}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null'}v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v}if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v)}}}}v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v}}if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' '}}else if(typeof space==='string'){indent=space}rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify')}return str('',{'':value})}}if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j}throw new SyntaxError('JSON.parse')}}}());      /* ]]> */
    </script>
    <!-- iCM Form Runtime Support -->
    <script type="text/javascript"> 
        /* <![CDATA[ */
var createFormRuntime=function(fname,pname,pinstance,mode,valmode,indvalid,traceMode,disableAutoFocus,data,cust,legVal,inIcm){var rt={JQUERY:"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",JQUERY_UI:"https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js",JQUERYUI_CSS:"https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/themes/redmond/jquery-ui.css",MODE_SKELETON:"SKELETON",MODE_SERVER:"SERVER",MODE_CLIENT:"CLIENT",VALIDATION_SUBMITONLY:"SUBMITONLY",VALIDATION_ASYOUTYPE:"ASYOUTYPE",EVENT_CHANGE:"CHANGE",EVENT_PAGEINIT:"PAGEINIT",EVENT_NEWPAGEINIT:"NEWPAGEINIT",EVENT_CUSTOM:"CUSTOM_",OPTION_VARIABLE_SUFFIX:"_OPTIONDATA",OPTION_GROUP_VARIABLE_SUFFIX:"_OPTIONGROUPS",OPTION_VALUE:0,OPTION_DISPLAY:1,OPTION_GROUP:2,ENCODER_STRING:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",jqueryLoaded:false,jqueryUILoaded:false,runtimeMode:mode,validationMode:valmode,highlightValid:indvalid,formName:fname,currentPageName:pname,currentPageInstance:pinstance,formData:data,custom:cust,legacyValidators:legVal,inIcmEnv:inIcm,traceEnabled:traceMode||false,debugInterface:null,formInitFn:[],pageInitFn:[],fieldInitFns:[],fieldReadyFns:[],fieldIDFns:{},fieldQueryValueFns:{},fieldUpdateValueFns:{},fieldValidationFns:{},fieldFocusFns:{},fieldShowHideFns:{},fieldEnableDisableFns:{},fieldEnableOnSubmitFns:{},fieldEventHandlerFns:{},globalEventHandlers:[],fieldFilterOptionsFns:{},fieldCustomFns:{},pageValidationFns:{},errorClearFns:{},errorDisplayFns:{},globalErrorClearAllFns:[],globalErrorClearFns:[],globalErrorDisplayFns:[],variables:{},variableChangedFns:{},apiServerCalls:{},icmPanelButtons:[],eventStack:[],focusSet:false,autoFocus:!disableAutoFocus,autoFocusSet:false,getVersion:function(){return"10.0.2.8"
},getFormName:function(){return rt.formName
},getPageName:function(){return rt.currentPageName
},getPageInstance:function(){return rt.currentPageInstance
},isRenderedInIcm:function(){return(rt.inIcmEnv===true)
},isClient:function(){return(rt.runtimeMode===rt.MODE_CLIENT)
},isServer:function(){return(rt.runtimeMode===rt.MODE_SERVER)
},isSkeleton:function(){return(rt.runtimeMode===rt.MODE_SKELETON)
},isSubmitOnlyValidation:function(){return(rt.validationMode===rt.VALIDATION_SUBMITONLY)
},isAsYouTypeValidation:function(){return(rt.validationMode===rt.VALIDATION_ASYOUTYPE)
},isHighlightValidFields:function(){return rt.highlightValid
},setDebugInterface:function(interfaceFn){rt.debugInterface=interfaceFn
},ready:function(){var f;
if((rt.formData!=undefined)&&(typeof rt.formData==="string")){if(rt.formData!==""){rt.formData=jQuery.parseJSON(rt.utilDecode(rt.formData))
}else{rt.formData={}
}}if(rt.debugInterface){rt.debugInterface.init();
rt.utilFieldSizeChanged("_DEBUGGER")
}if(rt.Handlebars){rt.Handlebars.registerHelper("FIELD",function(fieldName){return rt.utilHtmlEsc(rt.queryFieldValue(fieldName))
});
rt.Handlebars.registerHelper("RAWFIELD",function(fieldName){return new rt.Handlebars.SafeString(rt.queryFieldValue(fieldName))
});
rt.Handlebars.registerHelper("VARIABLE",function(variableName){return rt.utilHtmlEsc(rt.getVariable(variableName))
});
rt.Handlebars.registerHelper("RAWVARIABLE",function(variableName){return new rt.Handlebars.SafeString(rt.getVariable(variableName))
});
rt.Handlebars.registerHelper("log",function(ctx){rt.trace(ctx)
})
}rt.customReady();
for(f=0;
f<rt.formInitFn.length;
f++){rt.formInitFn[f](rt,rt.currentPageName,rt.currentPageInstance)
}for(f=0;
f<rt.pageInitFn.length;
f++){rt.pageInitFn[f](rt,rt.currentPageName,rt.currentPageInstance)
}for(f=0;
f<rt.fieldInitFns.length;
f++){rt.fieldInitFns[f].fn(rt,rt.currentPageName,rt.currentPageInstance)
}for(f=0;
f<rt.fieldReadyFns.length;
f++){rt.fieldReadyFns[f].fn(rt,rt.currentPageName,rt.currentPageInstance)
}if(!rt.autoFocusSet){if(!rt.autoFocus){if((rt.currentPageInstance!==0)||((rt.formData["_PAGEORDER_"]!==undefined)&&(rt.formData["_PAGEORDER_"].length>0))){rt.autoFocus=true
}}}if(rt.autoFocus){for(f=0;
f<rt.fieldInitFns.length;
f++){if(rt.canFocusField(rt.fieldInitFns[f].fieldName)){rt.focusField(rt.fieldInitFns[f].fieldName);
break
}}}if(rt.isRenderedInIcm()&&top.iCM.PanelUtils.loadTasks){var strActionPanelText="This form";
if(top.IcmFormAppTitle){strActionPanelText=top.IcmFormAppTitle
}var strActionTasksXML="";
var ActionTasksXml=[];
if(rt.icmPanelButtons.length){for(var i=0;
i<rt.icmPanelButtons.length;
i++){var thisActionTask=rt.icmPanelButtons[i];
var thisXML="<ActionTaskId"+thisActionTask.id+" icon='"+thisActionTask.iconClass+"' text='"+thisActionTask.text+"' />";
ActionTasksXml.push(thisXML)
}strActionTasksXML=ActionTasksXml.join("")+"<separator />"
}var strTasksXML="";
strActionTasksXML=strActionTasksXML+"<welcome icon='welcomepage' text='iCM home page' />";
strActionTasksXML=strActionTasksXML+"<logout icon='logout' text='Logout' />";
strTasksXML=strTasksXML+"<ActionTasks text='"+strActionPanelText+"' expanded='true'>";
strTasksXML=strTasksXML+strActionTasksXML;
strTasksXML=strTasksXML+"</ActionTasks>";
top.iCM.PanelUtils.loadTasks(strTasksXML)
}},customReady:function(){if(rt.custom!==undefined){if(typeof rt.custom.ready==="function"){rt.custom.ready.call(rt.custom,rt)
}}},trace:function(){if(rt.traceEnabled){var msg=[];
var a;
for(a=0;
a<arguments.length;
a++){msg.push(JSON.stringify(arguments[a]))
}msg=msg.join(" ");
if(rt.isClient()){if(typeof console!=="undefined"){console.log("helper.trace:",msg)
}if(rt.debugInterface!==null){rt.debugInterface.log("helper.trace",msg)
}}else{if((typeof Processor!=="undefined")&&(Processor.trace!==undefined)){Processor.trace(rt.formName+":"+rt.currentPageName,"helper.trace:",msg)
}}}},registerFormInitFn:function(fn){rt.formInitFn.push(fn)
},registerPageInitFn:function(fn){rt.pageInitFn.push(fn)
},registerFieldInitFn:function(fieldName,fn){rt.fieldInitFns.push({fieldName:fieldName,fn:fn})
},registerFieldReadyFn:function(fieldName,fn){rt.fieldReadyFns.push({fieldName:fieldName,fn:fn})
},validateFormClient:function(currentForm){var err,valFailures=[],valid=false;
rt.focusSet=false;
valFailures=rt.validatePage(currentForm);
rt.errorClearAll();
if(valFailures.length>0){for(err=0;
err<valFailures.length;
err++){rt.errorDisplay(valFailures[err].NAME,valFailures[err],valFailures)
}for(err=0;
err<rt.legacyValidators["ERRCALLBACKS"].length;
err++){rt.legacyValidators["ERRCALLBACKS"][err](valFailures)
}if(!rt.focusSet){for(err=0;
err<valFailures.length;
err++){if(rt.canFocusField(valFailures[err].NAME)){rt.focusField(valFailures[err].NAME);
break
}}}}else{valid=true;
var fieldName;
if(rt.fieldEnableOnSubmitFns[rt.currentPageName]!=undefined){for(fieldName in rt.fieldEnableOnSubmitFns[rt.currentPageName]){if(rt.fieldEnableOnSubmitFns[rt.currentPageName].hasOwnProperty(fieldName)){rt.fieldEnableOnSubmitFns[rt.currentPageName][fieldName]()
}}}}return valid
},validateFormServer:function(currentForm){var valFailures=[];
if(currentForm[rt.formName+"_FORMACTION_BACK"]===undefined){valFailures=rt.validatePage(currentForm)
}return valFailures
},registerPageValidatorFn:function(valFn){rt.pageValidationFns[rt.currentPageName]=valFn
},validatePage:function(currentForm){var valResults;
if(rt.pageValidationFns[rt.currentPageName]!==undefined){valResults=rt.pageValidationFns[rt.currentPageName](currentForm)
}return valResults
},registerFieldValidatorFn:function(fieldName,valFn){if(rt.fieldValidationFns[rt.currentPageName]===undefined){rt.fieldValidationFns[rt.currentPageName]={}
}rt.fieldValidationFns[rt.currentPageName][fieldName]=valFn
},validateField:function(fieldName,currentForm,failuresArray){var valResult,valid=true;
if((rt.fieldValidationFns[rt.currentPageName]!==undefined)&&(rt.fieldValidationFns[rt.currentPageName][fieldName]!==undefined)){try{valResult=rt.fieldValidationFns[rt.currentPageName][fieldName](currentForm)
}catch(ex){valResult={FIELDID:fieldName,NAME:fieldName,DESC:fieldName,VALID:false,ERRMSG:"JavaScript Error validating: ["+fieldName+"] ["+ex.message+"]"};
if(rt.debugInterface){rt.debugInterface.logFunctionError("JavaScript Error","Validating: ["+fieldName+"] ["+ex.message+"]",rt.fieldValidationFns[rt.currentPageName][fieldName])
}}if(!valResult.VALID){failuresArray.push(valResult);
valid=false
}}return valid
},registerFieldQueryValueFn:function(fieldName,valueFn){if(rt.fieldQueryValueFns[rt.currentPageName]===undefined){rt.fieldQueryValueFns[rt.currentPageName]={}
}rt.fieldQueryValueFns[rt.currentPageName][fieldName]=valueFn
},queryFieldValue:function(){var val="",fieldName,pageName,lookonOtherPages,valFound=false;
if(arguments.length===1){fieldName=arguments[0];
pageName=rt.currentPageName;
lookonOtherPages=true
}else{if(arguments.length===2){pageName=arguments[0];
fieldName=arguments[1];
lookonOtherPages=false
}else{if(arguments.length===3){pageName=arguments[0];
fieldName=arguments[1];
lookonOtherPages=false;
val=arguments[2]
}else{throw"Invalid number of arguments supplied to queryFieldValue."
}}}if((rt.isClient())&&(pageName===rt.currentPageName)){if((rt.fieldQueryValueFns[rt.currentPageName]!==undefined)&&(rt.fieldQueryValueFns[rt.currentPageName][fieldName]!==undefined)){val=rt.fieldQueryValueFns[rt.currentPageName][fieldName]();
valFound=true
}}else{if(rt.formData[pageName+"_"+"1"]!==undefined){if(rt.formData[pageName+"_"+"1"][fieldName]!==undefined){val=rt.formData[pageName+"_"+"1"][fieldName];
valFound=true
}}}if((!valFound)&&(lookonOtherPages)){for(pageName in rt.formData){if(rt.formData.hasOwnProperty(pageName)){if(pageName!==(rt.currentPageName+"_"+"1")){if(rt.formData[pageName][fieldName]!==undefined){val=rt.formData[pageName][fieldName];
valFound=true;
break
}}}}}return val
},registerFieldUpdateValueFn:function(fieldName,updateFn){if(rt.fieldUpdateValueFns[rt.currentPageName]===undefined){rt.fieldUpdateValueFns[rt.currentPageName]={}
}rt.fieldUpdateValueFns[rt.currentPageName][fieldName]=updateFn
},updateFieldValue:function(fieldName,value){if(rt.isClient()){if((rt.fieldUpdateValueFns[rt.currentPageName]!==undefined)&&(rt.fieldUpdateValueFns[rt.currentPageName][fieldName]!==undefined)){var fireEvents=rt.fieldUpdateValueFns[rt.currentPageName][fieldName](value);
if((fireEvents==undefined)||(fireEvents==true)){rt.executeEventHandlers(fieldName,rt.EVENT_CHANGE,true)
}}}else{if(rt.isSkeleton()){if(rt.formData[rt.currentPageName+"_"+"1"]===undefined){rt.formData[rt.currentPageName+"_"+"1"]={}
}rt.formData[rt.currentPageName+"_"+"1"][fieldName]=value
}}},registerFieldFocusFn:function(fieldName,focusFn){if(rt.fieldFocusFns[rt.currentPageName]===undefined){rt.fieldFocusFns[rt.currentPageName]={}
}rt.fieldFocusFns[rt.currentPageName][fieldName]=focusFn
},canFocusField:function(fieldName){return((rt.fieldFocusFns[rt.currentPageName]!==undefined)&&(rt.fieldFocusFns[rt.currentPageName][fieldName]!==undefined))
},focusField:function(fieldName){if((rt.fieldFocusFns[rt.currentPageName]!==undefined)&&(rt.fieldFocusFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldFocusFns[rt.currentPageName][fieldName]();
rt.focusSet=true
}},focusActionButton:function(actionName){var fieldName="FORMACTION_"+actionName;
if((rt.fieldFocusFns[rt.currentPageName]!==undefined)&&(rt.fieldFocusFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldFocusFns[rt.currentPageName][fieldName]();
rt.focusSet=true
}},enableAutoFocus:function(){rt.autoFocus=true;
rt.autoFocusSet=true
},disableAutoFocus:function(){rt.autoFocus=false;
rt.autoFocusSet=true
},registerFieldShowHideFn:function(fieldName,showHideFn){if(rt.fieldShowHideFns[rt.currentPageName]===undefined){rt.fieldShowHideFns[rt.currentPageName]={}
}rt.fieldShowHideFns[rt.currentPageName][fieldName]=showHideFn
},showField:function(fieldName){if((rt.fieldShowHideFns[rt.currentPageName]!==undefined)&&(rt.fieldShowHideFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldShowHideFns[rt.currentPageName][fieldName](true);
rt.utilFieldSizeChanged(fieldName)
}},hideField:function(fieldName){if((rt.fieldShowHideFns[rt.currentPageName]!==undefined)&&(rt.fieldShowHideFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldShowHideFns[rt.currentPageName][fieldName](false);
rt.utilFieldSizeChanged(fieldName)
}},showActionButton:function(actionName){var fieldName="FORMACTION_"+actionName;
if((rt.fieldShowHideFns[rt.currentPageName]!==undefined)&&(rt.fieldShowHideFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldShowHideFns[rt.currentPageName][fieldName](true);
rt.utilFieldSizeChanged(fieldName)
}},hideActionButton:function(actionName){var fieldName="FORMACTION_"+actionName;
if((rt.fieldShowHideFns[rt.currentPageName]!==undefined)&&(rt.fieldShowHideFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldShowHideFns[rt.currentPageName][fieldName](false);
rt.utilFieldSizeChanged(fieldName)
}},triggerActionButton:function(actionName){var fieldID=rt.formName+"_FORMACTION_"+actionName;
rt.utilTriggerClickEvent(fieldID)
},registerFieldEnableDisableFn:function(fieldName,enableDisableFn){if(rt.fieldEnableDisableFns[rt.currentPageName]===undefined){rt.fieldEnableDisableFns[rt.currentPageName]={}
}rt.fieldEnableDisableFns[rt.currentPageName][fieldName]=enableDisableFn
},registerFieldEnableOnSubmitFn:function(fieldName,enableFn){if(rt.fieldEnableOnSubmitFns[rt.currentPageName]===undefined){rt.fieldEnableOnSubmitFns[rt.currentPageName]={}
}rt.fieldEnableOnSubmitFns[rt.currentPageName][fieldName]=enableFn
},enableField:function(fieldName){if((rt.fieldEnableDisableFns[rt.currentPageName]!==undefined)&&(rt.fieldEnableDisableFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldEnableDisableFns[rt.currentPageName][fieldName](true)
}},disableField:function(fieldName){if((rt.fieldEnableDisableFns[rt.currentPageName]!==undefined)&&(rt.fieldEnableDisableFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldEnableDisableFns[rt.currentPageName][fieldName](false)
}},enableActionButton:function(actionName){var fieldName="FORMACTION_"+actionName;
if((rt.fieldEnableDisableFns[rt.currentPageName]!==undefined)&&(rt.fieldEnableDisableFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldEnableDisableFns[rt.currentPageName][fieldName](true)
}},disableActionButton:function(actionName){var fieldName="FORMACTION_"+actionName;
if((rt.fieldEnableDisableFns[rt.currentPageName]!==undefined)&&(rt.fieldEnableDisableFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldEnableDisableFns[rt.currentPageName][fieldName](false)
}},registerFieldEventHandler:function(fieldName,eventField,handlerFn){if(rt.fieldEventHandlerFns[rt.currentPageName]===undefined){rt.fieldEventHandlerFns[rt.currentPageName]={}
}if(rt.fieldEventHandlerFns[rt.currentPageName][eventField]===undefined){rt.fieldEventHandlerFns[rt.currentPageName][eventField]=[]
}rt.fieldEventHandlerFns[rt.currentPageName][eventField].push({targetField:fieldName,handlerFn:handlerFn})
},registerGlobalEventHandler:function(fieldName,handlerFn){rt.globalEventHandlers.push({targetField:fieldName,handlerFn:handlerFn})
},registerErrorClearFn:function(fieldName,clearFn){if(rt.errorClearFns[rt.currentPageName]===undefined){rt.errorClearFns[rt.currentPageName]={}
}rt.errorClearFns[rt.currentPageName][fieldName]=clearFn
},errorClear:function(fieldName){var f;
handledByGlobal=false;
for(f=0;
f<rt.globalErrorClearFns.length;
f++){if(rt.globalErrorClearFns[f](fieldName)){handledByGlobal=true
}}if(!handledByGlobal){if((rt.errorClearFns[rt.currentPageName]!==undefined)&&(rt.errorClearFns[rt.currentPageName][fieldName]!==undefined)){rt.errorClearFns[rt.currentPageName][fieldName]()
}}},errorClearAll:function(){var f;
handledByGlobal=false;
for(f=0;
f<rt.globalErrorClearAllFns.length;
f++){if(rt.globalErrorClearAllFns[f]()){handledByGlobal=true
}}if(!handledByGlobal){if(rt.errorClearFns[rt.currentPageName]!==undefined){for(var fieldName in rt.errorClearFns[rt.currentPageName]){if(rt.errorClearFns[rt.currentPageName].hasOwnProperty(fieldName)){rt.errorClear(fieldName)
}}}}},registerErrorDisplayFn:function(fieldName,displayFn){if(rt.errorDisplayFns[rt.currentPageName]===undefined){rt.errorDisplayFns[rt.currentPageName]={}
}rt.errorDisplayFns[rt.currentPageName][fieldName]=displayFn
},errorDisplay:function(fieldName,valFailure,valFailures){var f;
handledByGlobal=false;
for(f=0;
f<rt.globalErrorDisplayFns.length;
f++){if(rt.globalErrorDisplayFns[f](fieldName,valFailure,valFailures)){handledByGlobal=true
}}if(!handledByGlobal){if((rt.errorClearFns[rt.currentPageName]!==undefined)&&(rt.errorClearFns[rt.currentPageName][fieldName]!==undefined)){rt.errorDisplayFns[rt.currentPageName][fieldName](valFailure,valFailures)
}}},registerGlobalErrorClearAllFn:function(clearAllFn){rt.globalErrorClearAllFns.push(clearAllFn)
},registerGlobalErrorClearFn:function(clearFn){rt.globalErrorClearFns.push(clearFn)
},registerGlobalErrorDisplayFn:function(displayFn){rt.globalErrorDisplayFns.push(displayFn)
},registerFieldIDFn:function(fieldName,fieldIDFn){if(rt.fieldIDFns[rt.currentPageName]===undefined){rt.fieldIDFns[rt.currentPageName]={}
}rt.fieldIDFns[rt.currentPageName][fieldName]=fieldIDFn
},getFormID:function(){return rt.formName+"_FORM"
},getFieldsIDOuter:function(){return rt.formName+"__FIELDS_OUTER"
},getFieldID:function(fieldName){var fID="";
if((rt.fieldIDFns[rt.currentPageName]!==undefined)&&(rt.fieldIDFns[rt.currentPageName][fieldName]!==undefined)){fID=rt.fieldIDFns[rt.currentPageName][fieldName]()
}return fID
},getFieldIDOuter:function(fieldName){var fID=rt.getFieldID(fieldName);
if(fID!==""){fID=fID+"_OUTER"
}return fID
},registerFilterOptionsFn:function(fieldName,filterFn){if(rt.fieldFilterOptionsFns[rt.currentPageName]===undefined){rt.fieldFilterOptionsFns[rt.currentPageName]={}
}rt.fieldFilterOptionsFns[rt.currentPageName][fieldName]=filterFn
},filterOptions:function(fieldName,groupNames){if((rt.fieldFilterOptionsFns[rt.currentPageName]!==undefined)&&(rt.fieldFilterOptionsFns[rt.currentPageName][fieldName]!==undefined)){rt.fieldFilterOptionsFns[rt.currentPageName][fieldName](groupNames)
}},registerCustomFieldFn:function(fieldName,customFnName,customFn){if(rt.fieldCustomFns[rt.currentPageName]===undefined){rt.fieldCustomFns[rt.currentPageName]={}
}if(rt.fieldCustomFns[rt.currentPageName][fieldName]===undefined){rt.fieldCustomFns[rt.currentPageName][fieldName]={}
}rt.fieldCustomFns[rt.currentPageName][fieldName][customFnName]=customFn
},invokeCustomFn:function(customFnName){var ret,args,a;
if(rt.custom!==undefined){if(typeof rt.custom[customFnName]==="function"){args=[];
for(a=1;
a<arguments.length;
a++){args.push(arguments[a])
}try{ret=rt.custom[customFnName].apply(rt.custom,args)
}catch(ex){if(rt.debugInterface){rt.debugInterface.logFunctionError("JavaScript Error","Custom Function: ["+customFnName+"] ["+ex.message+"]",rt.custom[customFnName])
}throw ex
}}}return ret
},invokeCustomFieldFn:function(fieldName,customFnName){var args,a,ret;
if((rt.fieldCustomFns[rt.currentPageName]!==undefined)&&(rt.fieldCustomFns[rt.currentPageName][fieldName]!==undefined)&&(rt.fieldCustomFns[rt.currentPageName][fieldName][customFnName]!==undefined)){args=[];
for(a=2;
a<arguments.length;
a++){args.push(arguments[a])
}try{ret=rt.fieldCustomFns[rt.currentPageName][fieldName][customFnName].apply(rt,args)
}catch(ex){if(rt.debugInterface){rt.debugInterface.logFunctionError("JavaScript Error","Custom Field Function: ["+fieldName+":"+customFnName+"] ["+ex.message+"]",rt.fieldCustomFns[rt.currentPageName][fieldName][customFnName])
}throw ex
}}return ret
},registerVariableSetFn:function(name,fn){if(rt.variableChangedFns[name]==undefined){rt.variableChangedFns[name]=[]
}rt.variableChangedFns[name].push(fn)
},setVariable:function(name,value){var cb;
rt.variables[name]=value;
if(rt.isClient()){if(rt.variableChangedFns[name]!=undefined){rt.eventStack.push({eventName:rt.EVENT_CHANGE,fieldName:name});
for(cb=0;
cb<rt.variableChangedFns[name].length;
cb++){if(rt.debugInterface){rt.debugInterface.addEvent(rt.eventStack,name,rt.EVENT_CHANGE,value,true);
try{rt.variableChangedFns[name][cb](rt,name,value,true,rt.EVENT_CHANGE)
}catch(e){rt.debugInterface.addEventError(rt.eventStack,name,rt.EVENT_CHANGE,e.message);
rt.debugInterface.logFunctionError("JavaScript Error","Variable Event Handler: ["+name+":"+rt.EVENT_CHANGE+"] ["+e.message+"]",rt.variableChangedFns[name][cb])
}}else{rt.variableChangedFns[name][cb](rt,name,value,true,rt.EVENT_CHANGE)
}}rt.eventStack.pop()
}}},getVariable:function(name,defaultValue){var val=rt.variables[name];
if(val==undefined){var regExp=/^([^.[]+)(.*)/g;
var nameElements=regExp.exec(name);
if(nameElements.length>2){try{var val=eval('rt.variables["'+nameElements[1]+'"]'+nameElements[2])
}catch(e){return null
}}if((val==undefined)&&(defaultValue!=undefined)){val=defaultValue
}}return val
},deleteVariable:function(name){return delete rt.variables[name]
},registerSimpleField:function(config){rt.registerFieldIDFn(config.fieldName,function(){return config.fieldID
});
if(config.supportShowHide){rt.registerFieldShowHideFn(config.fieldName,function(showHide){rt.utilShowHideField(config.fieldID+"_OUTER",showHide)
})
}},registerInputField:function(config){rt.registerFieldIDFn(config.fieldName,function(){return config.fieldID
});
rt.registerFieldQueryValueFn(config.fieldName,function(){return rt.utilGetInputValue(config.fieldID)
});
rt.registerFieldUpdateValueFn(config.fieldName,function(value){rt.utilSetInputValue(config.fieldID,value)
});
if(config.supportErrorDisplay){rt.registerErrorClearFn(config.fieldName,function(){rt.utilClearErrorBlock(config.fieldID,rt.isHighlightValidFields())
});
rt.registerErrorDisplayFn(config.fieldName,function(valFailure,valFailures){if($.isArray(valFailure.ERRMSG)){rt.utilDisplayErrorBlock(config.fieldID,valFailure.ERRMSG)
}else{rt.utilDisplayErrorBlock(config.fieldID,[valFailure.ERRMSG])
}})
}if(config.supportFocus){rt.registerFieldFocusFn(config.fieldName,function(){rt.utilFocusField(config.fieldID)
})
}if(config.supportShowHide){rt.registerFieldShowHideFn(config.fieldName,function(showHide){rt.utilShowHideField(config.fieldID+"_OUTER",showHide)
})
}if(config.supportEnableDisable){rt.registerFieldEnableDisableFn(config.fieldName,function(enableDisable){rt.utilMakeReadOnlyField(config.fieldID,enableDisable)
})
}if(config.supportEvents){rt.registerFieldInitFn(config.fieldName,function(helper,pageName,pageInstance){if(pageInstance===0){helper.executeEventHandlers(config.fieldName,helper.EVENT_NEWPAGEINIT,false)
}else{helper.executeEventHandlers(config.fieldName,helper.EVENT_PAGEINIT,false)
}});
rt.registerFieldReadyFn(config.fieldName,function(helper,pageName,pageInstance){$("#"+config.fieldID).bind("change",function(event){helper.executeEventHandlers(config.fieldName,helper.EVENT_CHANGE,true)
})
})
}},registerCheckedInputField:function(config){rt.registerFieldIDFn(config.fieldName,function(){return config.fieldID
});
if(config.singleValue){rt.registerFieldQueryValueFn(config.fieldName,function(){var v=rt.utilGetCheckedInputValue(config.fieldID);
if(v.length===0){return""
}else{return v[0]
}})
}else{rt.registerFieldQueryValueFn(config.fieldName,function(){return rt.utilArrayToList(rt.utilGetCheckedInputValue(config.fieldID))
})
}rt.registerFieldUpdateValueFn(config.fieldName,function(value){rt.utilSetCheckedInputValue(config.fieldID,rt.utilListToArray(value))
});
if(config.supportErrorDisplay){rt.registerErrorClearFn(config.fieldName,function(){rt.utilClearErrorBlock(config.fieldID,rt.isHighlightValidFields())
});
rt.registerErrorDisplayFn(config.fieldName,function(valFailure,valFailures){if($.isArray(valFailure.ERRMSG)){rt.utilDisplayErrorBlock(config.fieldID,valFailure.ERRMSG)
}else{rt.utilDisplayErrorBlock(config.fieldID,[valFailure.ERRMSG])
}})
}if(config.supportFocus){rt.registerFieldFocusFn(config.fieldName,function(){rt.utilFocusCheckedField(config.fieldID)
})
}if(config.supportShowHide){rt.registerFieldShowHideFn(config.fieldName,function(showHide){rt.utilShowHideField(config.fieldID+"_OUTER",showHide)
})
}if(config.supportEnableDisable){rt.registerFieldEnableDisableFn(config.fieldName,function(enableDisable){rt.utilEnableDisableField(config.fieldID,enableDisable)
});
rt.registerFieldEnableOnSubmitFn(config.fieldName,function(){rt.utilEnableDisableField(config.fieldID,true)
})
}if(config.supportEvents){rt.registerFieldInitFn(config.fieldName,function(helper,pageName,pageInstance){if(pageInstance===0){helper.executeEventHandlers(config.fieldName,helper.EVENT_NEWPAGEINIT,false)
}else{helper.executeEventHandlers(config.fieldName,helper.EVENT_PAGEINIT,false)
}});
rt.registerFieldReadyFn(config.fieldName,function(helper,pageName,pageInstance){$("[name="+config.fieldID+"]").bind("change",function(event){helper.executeEventHandlers(config.fieldName,helper.EVENT_CHANGE,true)
})
})
}},registerSelectInputField:function(config){rt.registerFieldIDFn(config.fieldName,function(){return config.fieldID
});
if(config.singleValue){rt.registerFieldQueryValueFn(config.fieldName,function(){var v=rt.utilGetSelectedInputValue(config.fieldID);
if(v.length===0){return""
}else{return v[0]
}})
}else{rt.registerFieldQueryValueFn(config.fieldName,function(){return rt.utilArrayToList(rt.utilGetSelectedInputValue(config.fieldID))
})
}rt.registerFieldUpdateValueFn(config.fieldName,function(value){rt.utilSetSelectedInputValue(config.fieldID,rt.utilListToArray(value))
});
if(config.supportErrorDisplay){rt.registerErrorClearFn(config.fieldName,function(){rt.utilClearErrorBlock(config.fieldID,rt.isHighlightValidFields())
});
rt.registerErrorDisplayFn(config.fieldName,function(valFailure,valFailures){if($.isArray(valFailure.ERRMSG)){rt.utilDisplayErrorBlock(config.fieldID,valFailure.ERRMSG)
}else{rt.utilDisplayErrorBlock(config.fieldID,[valFailure.ERRMSG])
}})
}if(config.supportFocus){rt.registerFieldFocusFn(config.fieldName,function(){rt.utilFocusField(config.fieldID)
})
}if(config.supportShowHide){rt.registerFieldShowHideFn(config.fieldName,function(showHide){rt.utilShowHideField(config.fieldID+"_OUTER",showHide)
})
}if(config.supportEnableDisable){rt.registerFieldEnableDisableFn(config.fieldName,function(enableDisable){rt.utilEnableDisableField(config.fieldID,enableDisable)
});
rt.registerFieldEnableOnSubmitFn(config.fieldName,function(){rt.utilEnableDisableField(config.fieldID,true)
})
}if(config.optionData){rt.setVariable(config.fieldName+rt.OPTION_VARIABLE_SUFFIX,config.optionData);
rt.setVariable(config.fieldName+rt.OPTION_GROUP_VARIABLE_SUFFIX,null);
rt.registerFilterOptionsFn(config.fieldName,function(groupNames){rt.setVariable(config.fieldName+rt.OPTION_GROUP_VARIABLE_SUFFIX,groupNames)
});
rt.registerVariableSetFn(config.fieldName+rt.OPTION_VARIABLE_SUFFIX,function(helper,variableName,value,valid,eventName){var groups=rt.getVariable(config.fieldName+rt.OPTION_GROUP_VARIABLE_SUFFIX);
if(groups!=null){rt.utilFilterSelectOptions(config.fieldID,value,groups)
}else{rt.utilRefreshSelectOptions(config.fieldID,value)
}});
rt.registerVariableSetFn(config.fieldName+rt.OPTION_GROUP_VARIABLE_SUFFIX,function(helper,variableName,value,valid,eventName){if(value!=null){rt.utilFilterSelectOptions(config.fieldID,rt.getVariable(config.fieldName+rt.OPTION_VARIABLE_SUFFIX),value)
}else{rt.utilRefreshSelectOptions(config.fieldID,rt.getVariable(config.fieldName+rt.OPTION_VARIABLE_SUFFIX))
}})
}if(config.supportEvents){rt.registerFieldInitFn(config.fieldName,function(helper,pageName,pageInstance){if(pageInstance===0){helper.executeEventHandlers(config.fieldName,helper.EVENT_NEWPAGEINIT,false)
}else{helper.executeEventHandlers(config.fieldName,helper.EVENT_PAGEINIT,false)
}});
rt.registerFieldReadyFn(config.fieldName,function(helper,pageName,pageInstance){$("#"+config.fieldID).bind("change",function(event){helper.executeEventHandlers(config.fieldName,helper.EVENT_CHANGE,true)
})
})
}},registerButtonField:function(config){var eventHandler,b,actionID;
if((config.actionButtons===undefined)||(config.actionButtons.length===0)){rt.registerFieldIDFn(config.fieldName,function(){return config.fieldID
})
}else{rt.registerFieldIDFn(config.fieldName,function(){return config.fieldID
});
for(b=0;
b<config.actionButtons.length;
b++){actionID="FORMACTION_"+config.actionButtons[b];
rt.registerFieldIDFn(config.actionButtons[b],function(id){return function(){return rt.formName+"_"+id
}
}(actionID))
}}if(config.supportShowHide){rt.registerFieldShowHideFn(config.fieldName,function(showHide){rt.utilShowHideField(config.fieldID+"_OUTER",showHide)
});
if(config.actionButtons!==undefined){for(b=0;
b<config.actionButtons.length;
b++){actionID="FORMACTION_"+config.actionButtons[b];
rt.registerFieldShowHideFn(actionID,function(id){return function(showHide){rt.utilShowHideField(rt.formName+"_"+id,showHide)
}
}(actionID))
}}}if(config.supportFocus){if((config.actionButtons===undefined)||(config.actionButtons.length===0)){rt.registerFieldFocusFn(config.fieldName,function(){rt.utilFocusField(config.fieldID)
})
}else{for(b=0;
b<config.actionButtons.length;
b++){actionID="FORMACTION_"+config.actionButtons[b];
rt.registerFieldFocusFn(actionID,function(id){return function(){rt.utilFocusActionButtonField(rt.formName+"_"+id)
}
}(actionID))
}}}if(config.supportEnableDisable){if((config.actionButtons===undefined)||(config.actionButtons.length===0)){rt.registerFieldEnableDisableFn(config.fieldName,function(enableDisable){rt.utilEnableDisableButtonField(config.fieldID,enableDisable)
})
}else{for(b=0;
b<config.actionButtons.length;
b++){actionID="FORMACTION_"+config.actionButtons[b];
rt.registerFieldEnableDisableFn(actionID,function(id){return function(enableDisable){rt.utilEnableDisableButtonField(rt.formName+"_"+id,enableDisable)
}
}(actionID))
}}}},registerIcmPanelButton:function(icmPanelButtonInfo){if(icmPanelButtonInfo){rt.icmPanelButtons.push(icmPanelButtonInfo)
}},checkCircularEvents:function(fieldName,eventName){var circular=false,e,count=0;
for(e=0;
e<rt.eventStack.length;
e++){if((rt.eventStack[e].fieldName===fieldName)&&(rt.eventStack[e].eventName===eventName)){count+=1
}}if(count>1){circular=true
}return circular
},executeEventHandlers:function(fieldName,eventName,updateErrorDisplay){var h,valid,valFailures=[],value,theForm,handledByGlobal=false,errorDisplayRequired=false,eventDesc;
if((updateErrorDisplay)&&(rt.isAsYouTypeValidation())){errorDisplayRequired=true
}rt.eventStack.push({eventName:eventName,fieldName:fieldName});
if(!rt.checkCircularEvents(fieldName,eventName)){if(errorDisplayRequired){rt.errorClear(fieldName)
}theForm=$("#"+rt.formName+"_CONTROL").closest("form")[0];
valid=rt.validateField(fieldName,theForm,valFailures);
if((errorDisplayRequired)&&(!valid)){rt.errorDisplay(fieldName,valFailures[0],valFailures)
}for(h=0;
h<rt.globalEventHandlers.length;
h++){eventDesc=eventName+"(GLOBAL:"+rt.globalEventHandlers[h].targetField+")";
value=rt.queryFieldValue(fieldName);
if(rt.debugInterface){rt.debugInterface.addEvent(rt.eventStack,fieldName,eventDesc,value,valid);
try{if(rt.globalEventHandlers[h].handlerFn(rt,fieldName,value,valid,eventName)){handledByGlobal=true
}}catch(e){rt.debugInterface.addEventError(rt.eventStack,fieldName,eventDesc,e.message);
rt.debugInterface.logFunctionError("JavaScript Error","Global Event Handler: ["+fieldName+":"+eventDesc+"] ["+e.message+"]",rt.globalEventHandlers[h].handlerFn)
}}else{if(rt.globalEventHandlers[h].handlerFn(rt,fieldName,value,valid,eventName)){handledByGlobal=true
}}}if(!handledByGlobal){if(rt.fieldEventHandlerFns[rt.currentPageName]!==undefined){if(rt.fieldEventHandlerFns[rt.currentPageName][fieldName]!==undefined){for(h=0;
h<rt.fieldEventHandlerFns[rt.currentPageName][fieldName].length;
h++){value=rt.queryFieldValue(fieldName);
if(rt.debugInterface){rt.debugInterface.addEvent(rt.eventStack,fieldName,eventName,value,valid);
try{rt.fieldEventHandlerFns[rt.currentPageName][fieldName][h].handlerFn(rt,fieldName,value,valid,eventName)
}catch(e){rt.debugInterface.addEventError(rt.eventStack,fieldName,eventName,e.message);
rt.debugInterface.logFunctionError("JavaScript Error","Field Event Handler: ["+fieldName+":"+eventName+"] ["+e.message+"]",rt.fieldEventHandlerFns[rt.currentPageName][fieldName][h].handlerFn)
}}else{rt.fieldEventHandlerFns[rt.currentPageName][fieldName][h].handlerFn(rt,fieldName,value,valid,eventName)
}}}}}}else{if(rt.debugInterface){rt.debugInterface.addEventCircularError(rt.eventStack,fieldName,eventName)
}}if(rt.eventStack.length>0){rt.eventStack.pop()
}},executeAJAXHandlers:function(fieldName,valid,value){var h,eventName=rt.EVENT_CHANGE;
rt.eventStack.push({eventName:eventName,fieldName:fieldName});
if(!rt.checkCircularEvents(fieldName,eventName)){if(rt.fieldEventHandlerFns[rt.currentPageName]!==undefined){if(rt.fieldEventHandlerFns[rt.currentPageName][fieldName]!==undefined){for(h=0;
h<rt.fieldEventHandlerFns[rt.currentPageName][fieldName].length;
h++){if(rt.debugInterface){rt.debugInterface.addEvent(rt.eventStack,fieldName,eventName,JSON.stringify(value),valid);
try{rt.fieldEventHandlerFns[rt.currentPageName][fieldName][h].handlerFn(rt,fieldName,value,valid,eventName)
}catch(e){rt.debugInterface.addEventError(rt.eventStack,fieldName,eventName,e.message);
rt.debugInterface.logFunctionError("JavaScript Error","Field Event Handler: ["+fieldName+":"+eventName+"] ["+e.message+"]",rt.fieldEventHandlerFns[rt.currentPageName][fieldName][h].handlerFn)
}}else{rt.fieldEventHandlerFns[rt.currentPageName][fieldName][h].handlerFn(rt,fieldName,value,valid,eventName)
}}}}}else{if(rt.debugInterface){rt.debugInterface.addEventCircularError(rt.eventStack,fieldName,eventName)
}}if(rt.eventStack.length>0){rt.eventStack.pop()
}},utilEscValueSelector:function(v){if(!v){v=""
}v=String(v);
return v.replace(/([ !"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")
},utilHtmlEsc:function(v){if(!v){v=""
}v=String(v);
return v.replace(/&/g,"&"+"amp;").replace(/>/g,"&"+"gt;").replace(/</g,"&"+"lt;")
},utilListToArray:function(list,allowBlanks){var valArray,retArray=[];
if(allowBlanks==undefined){allowBlanks=false
}if(list){list=String(list);
valArray=list.split(",");
for(i=0;
i<valArray.length;
i++){if((allowBlanks)||(valArray[i]!=="")){retArray.push(valArray[i])
}}}return retArray
},utilArrayToList:function(inputArray,allowBlanks){var i,retString="";
if(allowBlanks==undefined){allowBlanks=false
}if(inputArray){for(i=0;
i<inputArray.length;
i++){if((allowBlanks)||(inputArray[i]!="")){if(retString!==""){retString=retString+","
}retString=retString+inputArray[i]
}}}return retString
},utilFieldSizeChanged:function(fieldName){if(typeof parent.resizeFrame==="function"){parent.resizeFrame(document.body.scrollHeight)
}},utilDisplayErrorBlock:function(fieldID,messages){var ul,m;
$("#"+fieldID+"_ERRORBLOCK").remove();
$("#"+fieldID+"_OUTERDIV").removeClass("error clear valid");
$("#"+fieldID+"_OUTERDIV").addClass("error");
$("#"+fieldID+"_OUTERDIV").prepend($("<div>",{"id":fieldID+"_ERRORBLOCK","class":"errorblock"}));
ul=$("<ul>");
for(m=0;
m<messages.length;
m++){ul.append($("<li>").text(messages[m]))
}$("#"+fieldID+"_ERRORBLOCK").append(ul)
},utilClearErrorBlock:function(fieldID,markValid){$("#"+fieldID+"_ERRORBLOCK").remove();
$("#"+fieldID+"_OUTERDIV").removeClass("error clear valid");
if(markValid){$("#"+fieldID+"_OUTERDIV").addClass("valid")
}else{$("#"+fieldID+"_OUTERDIV").addClass("clear")
}},utilShowHideField:function(fieldID,show){if(show){$("[id="+fieldID+"]").show()
}else{$("[id="+fieldID+"]").hide()
}},utilMakeReadOnlyField:function(fieldID,readOnly){var sel;
if(readOnly){sel=$("[id="+fieldID+"][readonly]");
sel.removeAttr("readonly")
}else{sel=$("[id="+fieldID+"]:not([readonly])");
sel.attr("readonly","readonly")
}},utilFocusField:function(fieldID){$("#"+fieldID)[0].focus()
},utilFocusCheckedField:function(fieldID){$("[name="+fieldID+"]")[1].focus()
},utilFocusActionButtonField:function(fieldID){var sel=$("[id="+fieldID+"]");
if(sel.length>0){sel[0].focus()
}},utilTriggerClickEvent:function(fieldID){var sel=$("[id="+fieldID+"]");
if(sel.length>0){sel[0].click()
}},utilEnableDisableButtonField:function(fieldID,enable){var sel;
if(enable){sel=$("[id="+fieldID+"][disabled]");
sel.removeAttr("disabled")
}else{sel=$("[id="+fieldID+"]:not([disabled])");
sel.attr("disabled","disabled")
}},utilEnableDisableField:function(fieldID,enable){var sel;
if(enable){sel=$("[name="+fieldID+"][disabled]");
sel.removeAttr("disabled")
}else{sel=$("[name="+fieldID+"]:not([disabled])");
sel.attr("disabled","disabled")
}},utilGetInputValue:function(inputID){return $("input#"+inputID)[0].value
},utilSetInputValue:function(inputID,value){$("input#"+inputID)[0].value=value
},utilGetCheckedInputValue:function(inputID){var sel,values=[],i;
sel=$("[name="+inputID+"]:checked");
for(i=0;
i<sel.length;
i++){if(sel[i].value!==""){values.push(sel[i].value)
}}return values
},utilSetCheckedInputValue:function(inputID,valArray){var sel,i;
sel=$("[name="+inputID+"]:checked");
sel.removeAttr("checked");
for(i=0;
i<valArray.length;
i++){if(valArray[i]!==""){$("[name="+inputID+"][value="+rt.utilEscValueSelector(valArray[i])+"]").prop("checked",true)
}}},utilGetSelectedInputValue:function(inputID){var vals,values=[],v;
vals=$("#"+inputID).val();
if(vals){if(typeof vals==="string"){values.push(vals)
}else{for(v=0;
v<vals.length;
v++){values.push(String(vals[v]))
}}}return values
},utilSetSelectedInputValue:function(inputID,valArray){$("#"+inputID).val(valArray)
},utilFilterSelectOptions:function(inputID,optionData,groupNames){var sel,i,namesArray,fnGroupAllowed,fnSelected,selValues=[];
namesArray=rt.utilListToArray(groupNames,true);
fnGroupAllowed=function(groupName){var n,allowed=false;
for(n=0;
n<namesArray.length;
n++){if(namesArray[n]===groupName){allowed=true;
break
}}return allowed
};
selValues=rt.utilGetSelectedInputValue(inputID);
fnSelected=function(value){var v,selected=false;
for(v=0;
v<selValues.length;
v++){if(selValues[v]===value){selected=true;
break
}}return selected
};
sel=$("#"+inputID+" option,#"+inputID+" > optgroup");
sel.remove();
sel=$("#"+inputID);
for(i=0;
i<optionData.length;
i++){if(fnGroupAllowed(optionData[i][rt.OPTION_GROUP])){if(fnSelected(optionData[i][rt.OPTION_VALUE])){sel.append($("<option>",{value:optionData[i][rt.OPTION_VALUE],selected:"selected"}).text(optionData[i][rt.OPTION_DISPLAY]))
}else{sel.append($("<option>",{value:optionData[i][rt.OPTION_VALUE]}).text(optionData[i][rt.OPTION_DISPLAY]))
}}}},utilRefreshSelectOptions:function(inputID,optionData){var optionsEle,sel,curGroup="",i,fnSelected,selValues=[];
selValues=rt.utilGetSelectedInputValue(inputID);
fnSelected=function(value){var v,selected=false;
for(v=0;
v<selValues.length;
v++){if(selValues[v]===value){selected=true;
break
}}return selected
};
sel=$("#"+inputID+" option,#"+inputID+" > optgroup");
sel.remove();
optionsEle=$("#"+inputID);
sel=optionsEle;
for(i=0;
i<optionData.length;
i++){if(curGroup!==optionData[i][rt.OPTION_GROUP]){if(optionData[i][rt.OPTION_GROUP]!==""){sel=optionsEle.append($("<optgroup>",{label:optionData[i][rt.OPTION_GROUP]}))
}else{sel=optionsEle
}curGroup=optionData[i][rt.OPTION_GROUP]
}if(fnSelected(optionData[i][rt.OPTION_VALUE])){sel.append($("<option>",{value:optionData[i][rt.OPTION_VALUE],selected:"selected"}).text(optionData[i][rt.OPTION_DISPLAY]))
}else{sel.append($("<option>",{value:optionData[i][rt.OPTION_VALUE]}).text(optionData[i][rt.OPTION_DISPLAY]))
}}},utilExpandTemplate:function(template){var val=template,m,noEsc=false,userVals={};
if(typeof template==="string"){if(arguments.length>1){if(typeof arguments[1]==="boolean"){noEsc=arguments[1]
}else{if(typeof arguments[1]==="object"){userVals=arguments[1]
}}}if(arguments.length>2){if(typeof arguments[2]==="boolean"){noEsc=arguments[2]
}else{if(typeof arguments[2]==="object"){userVals=arguments[2]
}}}m=template.match(/#([A-Za-z0-9_.]*)#/m);
while(m!=null){if(userVals.hasOwnProperty(m[1])){val=userVals[m[1]]
}else{val=rt.queryFieldValue(m[1])
}if(!noEsc){val=rt.utilHtmlEsc(val)
}template=template.replace(/#[A-Za-z0-9_.]*#/m,val);
m=template.match(/#([A-Za-z0-9_.]*)#/m)
}}return template
},utilCreateAction:function(fieldName,actionName){return{actionName:actionName,fieldName:fieldName,actionProps:{}}
},utilAddActionProperty:function(actionObject,name,value){actionObject.actionProps[name]=value;
return actionObject
},utilSetActionExecuteSkeleton:function(actionObject,skelName){if(skelName===undefined){if(actionObject.actionProps["_EXECUTESKELETON_"]!==undefined){delete actionObject.actionProps["_EXECUTESKELETON_"]
}}else{actionObject.actionProps["_EXECUTESKELETON_"]=skelName
}return actionObject
},utilAddAction:function(actionObj,contextVariables){var userVars=contextVariables["USER"],props="";
if(userVars===undefined){contextVariables["USER"]={};
userVars=contextVariables["USER"]
}rt.utilRemoveAction(actionObj.fieldName,contextVariables);
for(var propName in actionObj.actionProps){if(actionObj.actionProps.hasOwnProperty(propName)){userVars["ACTION_"+actionObj.fieldName+":"+propName]=actionObj.actionProps[propName];
if(props===""){props=propName
}else{props=props+","+propName
}}}userVars["ACTION_"+actionObj.fieldName]=props;
if((userVars["ACTIONS"]===undefined)||(userVars["ACTIONS"]==="")){userVars["ACTIONS"]=actionObj.fieldName+":"+actionObj.actionName
}else{userVars["ACTIONS"]=userVars["ACTIONS"]+","+actionObj.fieldName+":"+actionObj.actionName
}},utilRemoveAction:function(fieldName,contextVariables){var userVars=contextVariables["USER"],currentActions=rt.utilQueryActions(contextVariables),a,props,p,actions,i,newActions,m;
for(a=0;
a<currentActions.length;
a++){if(currentActions[a].fieldName===fieldName){props=rt.utilQueryActionProperties(fieldName,contextVariables);
for(p=0;
p<props.length;
p++){delete userVars["ACTION_"+fieldName+":"+props[p].name]
}delete userVars["ACTION_"+fieldName];
newActions="";
actions=userVars["ACTIONS"].split(",");
for(i=0;
i<actions.length;
i++){m=actions[i].match(/^(.*):(.*)$/);
if((m!=null)&&(m.length===3)){if(m[1]!==fieldName){if(newActions===""){newActions=actions[i]
}else{newActions=newActions+","+actions[i]
}}}}userVars["ACTIONS"]=newActions;
break
}}},utilQueryActions:function(contextVariables){var actions=[],userVars=contextVariables["USER"],a,i,m;
if((userVars!==undefined)&&(userVars["ACTIONS"]!==undefined)){a=userVars["ACTIONS"].split(",");
for(i=0;
i<a.length;
i++){m=a[i].match(/^(.*):(.*)$/);
if((m!=null)&&(m.length===3)){actions.push({fieldName:m[1],actionName:m[2]})
}}}return actions
},utilQueryActionProperties:function(fieldName,contextVariables){var props=[],userVars=contextVariables["USER"],p,i;
if((userVars!==undefined)&&(userVars["ACTION_"+fieldName]!==undefined)){p=userVars["ACTION_"+fieldName].split(",");
for(i=0;
i<p.length;
i++){props.push({name:p[i],value:userVars["ACTION_"+fieldName+":"+p[i]]})
}}return props
},utilRemoveActionProperty:function(fieldName,propertyName,contextVariables){var props="",userVars=contextVariables["USER"],p,i;
if((userVars!==undefined)&&(userVars["ACTION_"+fieldName]!==undefined)){p=userVars["ACTION_"+fieldName].split(",");
for(i=0;
i<p.length;
i++){if(p[i]===propertyName){delete userVars["ACTION_"+fieldName+":"+p[i]]
}else{if(props===""){props=p[i]
}else{props=props+","+p[i]
}}}userVars["ACTION_"+fieldName]=props
}},utilRemoveActionExecuteSkeleton:function(fieldName,contextVariables){rt.utilRemoveActionProperty(fieldName,"_EXECUTESKELETON_",contextVariables)
},utilQueryActionExecuteSkeleton:function(fieldName,contextVariables){var props=rt.utilQueryActionProperties(fieldName,contextVariables),p,skelName=undefined;
for(p=0;
p<props.length;
p++){if(props[p].name==="_EXECUTESKELETON_"){skelName=props[p].value;
break
}}return skelName
},utilCreateConfMessageAction:function(fieldName,message){var actionObject=rt.utilCreateAction(fieldName,"CONFMESSAGE");
rt.utilAddActionProperty(actionObject,"CLASS","form, com.gossinteractive.community.form.actions.ConfirmationAction");
rt.utilAddActionProperty(actionObject,"MESSAGE",message);
return actionObject
},utilLoadScript:function(filename,onloadedCB){rt.trace("utilLoadScript: "+filename);
var scriptRef=document.createElement("script");
scriptRef.setAttribute("type","text/javascript");
scriptRef.setAttribute("src",filename);
scriptRef.setAttribute("id",rt.utilHash(filename));
if(onloadedCB){if(scriptRef.addEventListener){scriptRef.addEventListener("load",onloadedCB,false)
}else{if(scriptRef.readyState){scriptRef.attachEvent("onreadystatechange",function(){if(scriptRef.readyState=="loaded"||scriptRef.readyState=="complete"){scriptRef.onreadystatechange=null;
onloadedCB()
}})
}}}document.getElementsByTagName("head")[0].appendChild(scriptRef)
},utilLoadScripts:function(requiredScripts,onloadedCB,item){var hash,el,parentObj;
var elistner=function(){item++;
if(item<requiredScripts.length){rt.utilLoadScripts(requiredScripts,onloadedCB,item)
}else{onloadedCB()
}};
item=item||0;
hash=rt.utilHash(requiredScripts[item].src);
el=document.getElementById(hash);
if(el!==null){parentObj=requiredScripts[item].parentObj||window;
if(typeof parentObj[requiredScripts[item].global]=="undefined"){if(el.addEventListener){el.addEventListener("load",elistner,false)
}else{if(el.readyState){el.attachEvent("onreadystatechange",elistner)
}}}else{elistner()
}}else{rt.utilLoadScript(requiredScripts[item].src,elistner)
}},utilLoadCSS:function(filename){rt.trace("utilLoadCSS: "+filename);
var hash,el;
hash=rt.utilHash(filename,"css");
el=document.getElementById(hash);
if(el===null){var linkRef=document.createElement("link");
linkRef.setAttribute("rel","stylesheet");
linkRef.setAttribute("type","text/css");
linkRef.setAttribute("id",hash);
linkRef.setAttribute("href",filename);
document.getElementsByTagName("head")[0].appendChild(linkRef)
}},utilHash:function(input,prefix){var hash=0,i,chr,len,pf=prefix||"icm";
if(input.length==0){return hash
}for(i=0,len=input.length;
i<len;
i++){chr=input.charCodeAt(i);
hash=((hash<<5)-hash)+chr;
hash|=0
}return pf+hash
},utilEncode:function(input){var output="";
var chr1,chr2,chr3,enc1,enc2,enc3,enc4;
var i=0;
input=rt.utilUtf8Encode(input);
while(i<input.length){chr1=input.charCodeAt(i++);
chr2=input.charCodeAt(i++);
chr3=input.charCodeAt(i++);
enc1=chr1>>2;
enc2=((chr1&3)<<4)|(chr2>>4);
enc3=((chr2&15)<<2)|(chr3>>6);
enc4=chr3&63;
if(isNaN(chr2)){enc3=enc4=64
}else{if(isNaN(chr3)){enc4=64
}}output=output+rt.ENCODER_STRING.charAt(enc1)+rt.ENCODER_STRING.charAt(enc2)+rt.ENCODER_STRING.charAt(enc3)+rt.ENCODER_STRING.charAt(enc4)
}return output
},utilDecode:function(input){var output="";
var chr1,chr2,chr3;
var enc1,enc2,enc3,enc4;
var i=0;
input=input.replace(/[^A-Za-z0-9+/=]/g,"");
while(i<input.length){enc1=rt.ENCODER_STRING.indexOf(input.charAt(i++));
enc2=rt.ENCODER_STRING.indexOf(input.charAt(i++));
enc3=rt.ENCODER_STRING.indexOf(input.charAt(i++));
enc4=rt.ENCODER_STRING.indexOf(input.charAt(i++));
chr1=(enc1<<2)|(enc2>>4);
chr2=((enc2&15)<<4)|(enc3>>2);
chr3=((enc3&3)<<6)|enc4;
output=output+String.fromCharCode(chr1);
if(enc3!=64){output=output+String.fromCharCode(chr2)
}if(enc4!=64){output=output+String.fromCharCode(chr3)
}}output=rt.utilUtf8Decode(output);
return output
},utilUtf8Encode:function(string){var utftext="";
for(var n=0;
n<string.length;
n++){var c=string.charCodeAt(n);
if(c<128){utftext+=String.fromCharCode(c)
}else{if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);
utftext+=String.fromCharCode((c&63)|128)
}else{utftext+=String.fromCharCode((c>>12)|224);
utftext+=String.fromCharCode(((c>>6)&63)|128);
utftext+=String.fromCharCode((c&63)|128)
}}}return utftext
},utilUtf8Decode:function(utftext){var string="";
var i=0;
var c=0;
var c1=0;
var c2=0;
while(i<utftext.length){c=utftext.charCodeAt(i);
if(c<128){string+=String.fromCharCode(c);
i++
}else{if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);
string+=String.fromCharCode(((c&31)<<6)|(c2&63));
i+=2
}else{c2=utftext.charCodeAt(i+1);
c3=utftext.charCodeAt(i+2);
string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));
i+=3
}}}return string
},utilCreateAPIServer:function(name,url,options){var callDetails={url:url,apiKey:options.apiKey?options.apiKey:"",user:options.user?options.user:"",password:options.password?options.password:"",currentToken:"",forceJSONP:options.forceJSONP?true:false,internal:options.internal?true:false};
rt.apiServerCalls[name]=callDetails;
return callDetails
},utilIsAPIServerDefined:function(name){return rt.apiServerCalls[name]?true:false
},utilInvokeAPIServer:function(name,method,params,okCB,errorCB){var callDetails=rt.apiServerCalls[name];
if(callDetails){if(rt.isClient()){rt._utilPerformJQueryAPIServerCall(callDetails,method,params,okCB,errorCB)
}else{rt._utilPerformTeaJSAPIServerCall(callDetails,method,params,okCB,errorCB)
}}},_utilPerformTeaJSAPIServerCall:function(callDetails,method,params,okCB,errorCB){var apiclient=require("apiclient");
if(!callDetails.client){var options={servicePath:callDetails.url,apiKey:callDetails.apiKey,user:callDetails.user,password:callDetails.password};
if(callDetails.internal){options.serverid=Processor.serverid
}callDetails.client=new apiclient.ApiClient(options)
}try{var resp=callDetails.client.invoke(method,params);
if(resp){if(resp.error){if(errorCB){errorCB(resp,resp.error.message)
}}else{if(resp.result!==undefined){if(okCB){okCB(resp.result)
}}else{if(errorCB){errorCB(resp,"Unexpected response")
}}}}else{if(errorCB){errorCB({},"No response received")
}}}catch(err){if(errorCB){errorCB(err,"Exception: "+err.message)
}}},_utilPerformJQueryAPIServerCall:function(callDetails,method,params,okCB,errorCB){var headers,urlExt;
if((!$.support.cors)||(callDetails.forceJSONP)){if(callDetails.currentToken==""){urlExt="";
if(callDetails.apiKey){urlExt="&x-api-key="+callDetails.apiKey
}if(callDetails.user&&callDetails.password){urlExt=urlExt+"&user="+user+"&password="+password
}}else{urlExt="&x-api-token="+callDetails.currentToken
}$.ajax({type:"GET",url:callDetails.url,dataType:"jsonp",contentType:"application/json; charset=UTF-8",data:"jsonrpc="+JSON.stringify({"jsonrpc":"2.0","id":new Date().getTime().toString(),"method":method,"params":params})+urlExt,success:function(resp,textStatus,jqXHR){if(typeof resp.error!=="undefined"){callDetails.currentToken="";
if(errorCB){errorCB(resp,resp.error.message)
}}else{if((resp._transport_)&&(resp._transport_["statusCode"]!==200)){if(resp._transport_["statusCode"]===401){if(callDetails.currentToken===""){if(errorCB){errorCB(resp,"Authorisation failure - Status 401")
}}else{callDetails.currentToken="";
rt._utilPerformJQueryAPIServerCall(callDetails,method,params,okCB,errorCB)
}}else{callDetails.currentToken="";
if(errorCB){errorCB(resp,"["+resp._transport_["statusCode"]+"] "+resp._transport_["message"])
}}}else{if((resp._transport_)&&(resp._transport_["x-api-token"])){callDetails.currentToken=resp._transport_["x-api-token"]
}else{callDetails.currentToken=""
}if(resp.result!==undefined){if(okCB){okCB(resp.result)
}}else{callDetails.currentToken="";
if(errorCB){errorCB(resp,"No result property in response")
}}}}},error:function(jqXHR,errMsg){callDetails.currentToken="";
if(errorCB){errorCB({},"HTTP Error: "+errMsg)
}}})
}else{headers={};
if(callDetails.currentToken==""){if(callDetails.apiKey){headers["x-api-key"]=callDetails.apiKey
}}else{if(callDetails.currentToken!==""){headers["x-api-token"]=callDetails.currentToken
}}$.ajax({type:"POST",url:callDetails.url,dataType:"json",contentType:"application/json; charset=UTF-8",headers:headers,data:JSON.stringify({"jsonrpc":"2.0","id":new Date().getTime().toString(),"method":method,"params":params}),beforeSend:function(xhr){if((callDetails.currentToken==="")&&callDetails.user&&callDetails.password){xhr.setRequestHeader("Authorization","Basic "+rt.utilEncode(callDetails.user+":"+callDetails.password))
}},success:function(resp,textStatus,jqXHR){if(typeof resp.error!=="undefined"){callDetails.currentToken="";
if(errorCB){errorCB(resp,resp.error.message)
}}else{if((resp._transport_)&&(resp._transport_["statusCode"]!==200)){if(resp._transport_["statusCode"]===401){if(callDetails.currentToken===""){if(errorCB){errorCB(resp,"Authorisation failure - Status 401")
}}else{callDetails.currentToken="";
rt._utilPerformJQueryAPIServerCall(callDetails,method,params,okCB,errorCB)
}}else{callDetails.currentToken="";
if(errorCB){errorCB(resp,"["+resp._transport_["statusCode"]+"] "+resp._transport_["message"])
}}}else{if(resp.result){callDetails.currentToken=jqXHR.getResponseHeader("x-api-token");
if(callDetails.currentToken==null){callDetails.currentToken=""
}if(okCB){okCB(resp.result)
}}else{callDetails.currentToken="";
if(errorCB){errorCB(resp,"No result property in response")
}}}}},error:function(jqXHR,errMsg,errorThrown){callDetails.currentToken="";
if(errorCB){errorCB({},"HTTP Error: "+errMsg)
}}})
}}};
if(rt.isClient()){if(typeof $!=="function"){rt.utilLoadScript(rt.JQUERY,function(){rt.jqueryLoaded=true;
rt.utilLoadScript(rt.JQUERY_UI,function(){rt.jqueryUILoaded=true;
$(document).ready(rt.ready)
})
});
rt.utilLoadCSS(rt.JQUERYUI_CSS)
}else{if(!$.ui){rt.utilLoadScript(rt.JQUERY_UI,function(){rt.jqueryUILoaded=true;
$(document).ready(rt.ready)
});
rt.utilLoadCSS(rt.JQUERYUI_CSS)
}else{$(document).ready(rt.ready)
}}}else{rt.customReady()
}return rt
};      /* ]]> */
    </script>
    <script type="text/javascript">
    /* <![CDATA[ */
    // Backward compatibility
        var INCIDENTREPORTFORMV2Validator = {};
INCIDENTREPORTFORMV2Validator["ERRCALLBACKS"] = [];
INCIDENTREPORTFORMV2Validator["PERSONALDETAILS"] = {};
        // Backward compatibility Ends
        var INCIDENTREPORTFORMV2FormData = "eyJfUEFHRU9SREVSXyI6W119";
        var INCIDENTREPORTFORMV2CustomCode = {};
         //create global to hold form names reserved for future use
        if(typeof window["GOSSForms"] == "undefined"){
          var GOSSForms = {forms:[]};
        }
        GOSSForms.forms.push("INCIDENTREPORTFORMV2");
        var INCIDENTREPORTFORMV2Form = createFormRuntime( "INCIDENTREPORTFORMV2", "PERSONALDETAILS", 0, "CLIENT", "ASYOUTYPE", false, false, false, INCIDENTREPORTFORMV2FormData, INCIDENTREPORTFORMV2CustomCode, INCIDENTREPORTFORMV2Validator, false );
INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "TITLE", function( form ) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE", NAME: "TITLE", VALID: true, ERRMSG: "" },value;
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE == undefined ) {
    throw new Error("No value in submitted data for field: TITLE during server-side validation");
}
if ( INCIDENTREPORTFORMV2Form.isClient() ) {
    // Use runtime to determine field value in 'standard' format
    value = INCIDENTREPORTFORMV2Form.queryFieldValue("TITLE");
} else {
    // Take value from the supplied form object
    value = form.INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE.value;
}
if ( INCIDENTREPORTFORMV2Form.utilListToArray(value).length === 0 ) {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Title";
    valResult.ERRMSG= "Please select" ;
}
return valResult ;
} ); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "OTHERSPECIFY", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY", NAME: "OTHERSPECIFY", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY == undefined ) {
    throw new Error("No value in submitted data for field: OTHERSPECIFY during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = true;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Other Title";
    valResult.ERRMSG= "Please enter" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "FIRSTNAME", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME", NAME: "FIRSTNAME", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME == undefined ) {
    throw new Error("No value in submitted data for field: FIRSTNAME during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "First Name";
    valResult.ERRMSG= "Please enter" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "SURNAME", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME", NAME: "SURNAME", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME == undefined ) {
    throw new Error("No value in submitted data for field: SURNAME during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Last name";
    valResult.ERRMSG= "Please enter" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "EMAIL", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL", NAME: "EMAIL", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL == undefined ) {
    throw new Error("No value in submitted data for field: EMAIL during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL.value.length > 255) ) {
        valResult.VALID= false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL.value != "") && (!/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/.test(form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL.value)) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = true;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Email";
    valResult.ERRMSG= "Please enter a valid email address" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "PHONE1", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1", NAME: "PHONE1", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1 == undefined ) {
    throw new Error("No value in submitted data for field: PHONE1 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1.value.length > 255) ) {
        valResult.VALID= false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1.value != "") && (!/^[0-9-+()\s]+$/.test(form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1.value)) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = true;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Telephone / Mobile";
    valResult.ERRMSG= "Please enter a valid Telephone / Mobile number" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "PHONE2", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2", NAME: "PHONE2", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2 == undefined ) {
    throw new Error("No value in submitted data for field: PHONE2 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2.value.length > 255) ) {
        valResult.VALID= false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2.value != "") && (!/^[0-9-+()\s]+$/.test(form.INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2.value)) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = true;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Telephone / Mobile 2";
    valResult.ERRMSG= "Please enter a valid Telephone / Mobile number" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "EMAILPHONEPRESENT", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT", NAME: "EMAILPHONEPRESENT", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT == undefined ) {
    throw new Error("No value in submitted data for field: EMAILPHONEPRESENT during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Telephone or email present?";
    valResult.ERRMSG= "Invalid" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "FIELD282", function( form ) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282", NAME: "FIELD282", VALID: true, ERRMSG: "" },value;
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282 == undefined ) {
    throw new Error("No value in submitted data for field: FIELD282 during server-side validation");
}
if ( INCIDENTREPORTFORMV2Form.isClient() ) {
    value = INCIDENTREPORTFORMV2Form.queryFieldValue("FIELD282");
} else {
    value = form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282.value;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Not in West Berkshire?";
    valResult.ERRMSG= "Please select" ;
}
return valResult ;
} ); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "POSTCODE", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE", NAME: "POSTCODE", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE == undefined ) {
    throw new Error("No value in submitted data for field: POSTCODE during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE.value.length > 10) ) {
        valResult.VALID= false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE.value != "") && (!/(GIR 0AA)|(((A[BL]|B[ABDHLNRSTX]?|C[ABFHMORTVW]|D[ADEGHLNTY]|E[HNX]?|F[KY]|G[LUY]?|H[ADGPRSUX]|I[GMPV]|JE|K[ATWY]|L[ADELNSU]?|M[EKL]?|N[EGNPRW]?|O[LX]|P[AEHLOR]|R[GHM]|S[AEGKLMNOPRSTY]?|T[ADFNQRSW]|UB|W[ADFNRSV]|YO|ZE)[1-9]?[0-9]|((E|N|NW|SE|SW|W)1|EC[1-4]|WC[12])[A-HJKMNPR-Y]|(SW|W)([2-9]|[1-9][0-9])|EC[1-9][0-9])\s{0,2}[0-9][ABD-HJLNP-UW-Z]{2})/i.test(form.INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE.value)) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Postcode";
    valResult.ERRMSG= "Please enter a valid Postcode" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "ADDRESS1", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1", NAME: "ADDRESS1", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1 == undefined ) {
    throw new Error("No value in submitted data for field: ADDRESS1 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Address Line 1";
    valResult.ERRMSG= "Please enter Address Line 1" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "ADDRESS2", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2", NAME: "ADDRESS2", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2 == undefined ) {
    throw new Error("No value in submitted data for field: ADDRESS2 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = true;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Address Line 2";
    valResult.ERRMSG= "Please enter Address Line 2" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "ADDRESS3", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3", NAME: "ADDRESS3", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3 == undefined ) {
    throw new Error("No value in submitted data for field: ADDRESS3 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = true;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Address Line 3";
    valResult.ERRMSG= "Please enter Address Line 3" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "CITY", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY", NAME: "CITY", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY == undefined ) {
    throw new Error("No value in submitted data for field: CITY during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Town / City";
    valResult.ERRMSG= "Please enter a Town / City" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "REGION", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION", NAME: "REGION", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION == undefined ) {
    throw new Error("No value in submitted data for field: REGION during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = true;
}
if ( !valResult.VALID ) {
    valResult.DESC= "County";
    valResult.ERRMSG= "Please enter a County" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "FIELD299", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299", NAME: "FIELD299", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299 == undefined ) {
    throw new Error("No value in submitted data for field: FIELD299 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299.value.length > 2550) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Location Details";
    valResult.ERRMSG= "Please enter" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "FIELD308", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308", NAME: "FIELD308", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308 == undefined ) {
    throw new Error("No value in submitted data for field: FIELD308 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308.value == "") ) {
        valResult.VALID = false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "Label";
    valResult.ERRMSG= "Please select" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "FIELD141", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141", NAME: "FIELD141", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141 == undefined ) {
    throw new Error("No value in submitted data for field: FIELD141 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "(i) Street Name";
    valResult.ERRMSG= "Please enter" ;
}
return valResult ;
}); INCIDENTREPORTFORMV2Form.registerFieldValidatorFn( "FIELD142", function( form) {
var valResult = { FIELDID: "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142", NAME: "FIELD142", VALID: true, ERRMSG: "" };
if ( INCIDENTREPORTFORMV2Form.isServer() && form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142 == undefined ) {
    throw new Error("No value in submitted data for field: FIELD142 during server-side validation");
}
if ( form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142.value !== undefined ) {
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142.value == "") ) {
        valResult.VALID = false;
    }
    if ( (valResult.VALID) && (form.INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142.value.length > 255) ) {
        valResult.VALID= false;
    }
} else {
    valResult.VALID = false;
}
if ( !valResult.VALID ) {
    valResult.DESC= "(ii) Outside House No.";
    valResult.ERRMSG= "Please enter" ;
}
return valResult ;
});INCIDENTREPORTFORMV2Form.registerPageValidatorFn( function ( form ) {
    var f,orderedFields=["HIDDENUNQFORMREFNO","FIELD318","FIELD319","FIELD320","FIELD321","FIELD49","SELECT1DISPL","TITLE","OTHERSPECIFY","FIRSTNAME","SURNAME","FIELD90","EMAIL","V2TELMOB2","PHONE1","FIELD275","FIELD276","V2TELMOB","PHONE2","FIELD271","FIELD272","EMAILORPHONE","EMAILPHONEPRESENT","EMAILPHONEPRESENTTEXT","FIELD278","FIELD279","FIELD280","FIELD281","FIELD282","POSTCODELBL3","POSTCODE","ADDRESSFIND3","ADDRESSLBL","ADDRESS1","ADDRESS2","ADDRESS3","CITY","REGION","FIELD137","FIELD140","FIELD184","FIELD300","FIELD303","FIELD299","FIELD302","FIELD301","FIELD267","FIELD268","FIELD308","FIELD185","FIELD322","FIELD141","FIELD142","FIELD190","FIELD76","FIELD135"],valFailures = [],valResult,valFunction,valMsg="";
    for ( f = 0; f < orderedFields.length; f++ ) {
INCIDENTREPORTFORMV2Form.validateField( orderedFields[f], form, valFailures );
		// Invoke any legacy validators
		if (INCIDENTREPORTFORMV2Validator["PERSONALDETAILS"][orderedFields[f]] !== undefined) {
			valFunction = INCIDENTREPORTFORMV2Validator["PERSONALDETAILS"][orderedFields[f]];
			valResult = valFunction( form );
			if ( !valResult.VALID) {
				valFailures.push( valResult );
			}
		}
    }
    return valFailures;
} );
        function validateFormINCIDENTREPORTFORMV2( form ) {
          return INCIDENTREPORTFORMV2Form.validateFormClient( form );
        }
    /* ]]> */
    </script>
     <!-- Handlebars Runtime Support -->
    <script type="text/javascript"> 
        /* <![CDATA[ */
      /* ]]> */
    </script>


<!-- Form Runtime Helper Version: [10.0.2.8] -->
<form action='https://www.westberks.gov.uk/index.aspx?articleid=30370&amp;formid=379552#form' enctype='multipart/form-data' method='post' id='INCIDENTREPORTFORMV2_FORM'  >
<div id='INCIDENTREPORTFORMV2_CONTROL'>
<input type='hidden' name='INCIDENTREPORTFORMV2_PAGENAME' value='PERSONALDETAILS'/>
<input type='hidden' name='INCIDENTREPORTFORMV2_PAGEINSTANCE' value='0'/>
<input type='hidden' name='INCIDENTREPORTFORMV2_SESSIONDATA' value='eyJDVVJSRU5UVkFMVUVTIjpbXSwiUEFHRU5BTUUiOiJQRVJTT05BTERFVEFJTFMiLCJQQUdFSU5TVEFOQ0UiOjB9'/>
</div>
<div id="INCIDENTREPORTFORMV2__FIELDS_OUTER" class="icmform icmformleft">
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_HIDDENUNQFORMREFNO_OUTER'  style="display:none"  ><!-- #CONTAINER: { style="display:none" } -->
<script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_HIDDENUNQFORMREFNO",
  fieldName : "HIDDENUNQFORMREFNO",
  supportErrorDisplay : false,
  supportEvents : false,
  supportShowHide : false
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<input type="hidden" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_HIDDENUNQFORMREFNO" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_HIDDENUNQFORMREFNO" value=""/>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD318_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD318",
  fieldName : "FIELD318",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span>Before completing the form you may find the following information useful</span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD319_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD319",
  fieldName : "FIELD319",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD319", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD319", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD319", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD319", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD319" ).html(helper.utilExpandTemplate( value ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD319"><br /><p>• There is no automatic right to compensation for this incident and in order to succeed in your claim, you will need to demonstrate that the Council failed in its duties under the Highways Act 1980. </p><br /><p>• S 41 of the Highways Act imposes a duty on the Council as the Highways authority to maintain the Highway (this includes footways and carriageways). To comply with this, the Council has in place a regime of formal highway safety inspections. The relevant inspection data will be forwarded to our insurer for the 12 month period preceding the incident. </p><br /><p>• S 58 of the Highways Act recognises that the Council does not have the resources to inspect every road every day, and as a consequence, allows the Council to take reasonable care to ensure that the highway remains in a safe condition. </p><br /><p>• To process your claim, the <b>exact</b> incident location and details of the defect responsible for the damage are required.</p><br /><p>• Under Highways case law, there is no reimbursement for general wear and tear. </p><br /><p>• The majority of claims brought against the Council are successfully defended. </p><br /></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD320_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD320",
  fieldName : "FIELD320",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<hr />
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD321_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD321",
  fieldName : "FIELD321",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD321", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD321", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD321", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD321", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD321" ).text(helper.utilExpandTemplate( value, true ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD321"></div>
</li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD49_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD49",
  fieldName : "FIELD49",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span>Contact Details</span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_SELECT1DISPL_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_SELECT1DISPL",
  fieldName : "SELECT1DISPL",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span>Name</span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
    helper.registerSelectInputField( {
        fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE",
        fieldName : "TITLE",
        labelIDSuffix : "LABEL",
        errorMsgIDSuffix : "ERRMSG",
        singleValue : true,
        supportErrorDisplay : true,
        supportEvents : true,
        supportShowHide : true,
        supportFocus : true,
        supportEnableDisable : true,
        optionData : [["","",""],["Mr","Mr",""],["Mrs","Mrs",""],["Miss","Miss",""],["Ms","Ms",""],["Other","Other",""]] } );
    helper.registerFieldEventHandler( "TITLE", "TITLE", function (helper, fieldName, value, valid, event) { helper.hideField("OTHERSPECIFY"); if (value == "Other") { helper.showField("OTHERSPECIFY"); }} );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE_OUTERDIV' class='field_select clear'><label for="INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLELABEL" >Title <em title="required">*</em> </label>
<select id="INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_TITLE"  class="icmvsselect">
<option value="" selected='selected'></option>
<option value="Mr" >Mr</option>
<option value="Mrs" >Mrs</option>
<option value="Miss" >Miss</option>
<option value="Ms" >Ms</option>
<option value="Other" >Other</option>
</select>
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY",
  fieldName : "OTHERSPECIFY",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFYLABEL" >Other Title</label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_OTHERSPECIFY" value="" maxlength='255' class="icmstext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME",
  fieldName : "FIRSTNAME",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAMELABEL" >First Name<em title="required">*</em> </label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIRSTNAME" value="" maxlength='255' class="icmtext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME",
  fieldName : "SURNAME",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAMELABEL" >Last name<em title="required">*</em> </label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_SURNAME" value="" maxlength='255' class="icmtext" />
</div></li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD90_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD90",
  fieldName : "FIELD90",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span></span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL",
  fieldName : "EMAIL",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
    helper.registerFieldEventHandler( "EMAIL", "EMAIL", function (helper, fieldName, value, valid, event) { helper.hideField("EMAILPHONEPRESENT"); var getphone1 = helper.queryFieldValue("PHONE1"); var getphone2 = helper.queryFieldValue("PHONE2"); if(value != ""){ helper.updateFieldValue("EMAILPHONEPRESENT", "Yes"); helper.hideField("EMAILPHONEPRESENTTEXT"); } if(value == "" && getphone1 == "" && getphone2 == ""){ helper.updateFieldValue("EMAILPHONEPRESENT", ""); helper.showField("EMAILPHONEPRESENTTEXT"); }}  );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILLABEL" >Email</label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAIL" value="" maxlength='255' class="icmtext" />
</div></li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_V2TELMOB2_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_V2TELMOB2",
  fieldName : "V2TELMOB2",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmhorizontal">
<legend><span></span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1",
  fieldName : "PHONE1",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
    helper.registerFieldEventHandler( "PHONE1", "PHONE1", function (helper, fieldName, value, valid, event) { helper.hideField("EMAILPHONEPRESENT"); var getemail = helper.queryFieldValue("EMAIL"); var getphone2 = helper.queryFieldValue("PHONE2"); if(value != ""){ helper.updateFieldValue("EMAILPHONEPRESENT", "Yes"); helper.hideField("EMAILPHONEPRESENTTEXT"); } if(value == "" && getemail == "" && getphone2 == ""){ helper.updateFieldValue("EMAILPHONEPRESENT", ""); helper.showField("EMAILPHONEPRESENTTEXT"); }}  );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1LABEL" >Telephone / Mobile</label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE1" value="" maxlength='255' class="icmtext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD275_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD275",
  fieldName : "FIELD275",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD275", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD275", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD275", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD275", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD275" ).html(helper.utilExpandTemplate( value ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD275"><div style="width:0.3em;"></div></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD276_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD276",
  fieldName : "FIELD276",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD276", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD276", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD276", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD276", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD276" ).html(value);
}); 
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD276">
<div class="infopopover"><a id="example2" href="#" data-content="Numbers, spaces, + , ( , and ) are all valid characters" data-title="Telephone/Mobile" data-placement="right" data-toggle="popover"><div class="glyphicon glyphicon-info-sign"></div></a><invalidTag type="text/javascript" src="assets/js/bootstrap.min.js"></script><invalidTag type="text/javascript"> $('#example2').popover(); $('#example2').click(function(e){ e.preventDefault(); return true;}) </script></div></div>
</li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_V2TELMOB_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_V2TELMOB",
  fieldName : "V2TELMOB",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmhorizontal">
<legend><span></span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2",
  fieldName : "PHONE2",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
    helper.registerFieldEventHandler( "PHONE2", "PHONE2", function (helper, fieldName, value, valid, event) { helper.hideField("EMAILPHONEPRESENT"); var getemail = helper.queryFieldValue("EMAIL"); var getphone1 = helper.queryFieldValue("PHONE1"); if(value != ""){ helper.updateFieldValue("EMAILPHONEPRESENT", "Yes"); helper.hideField("EMAILPHONEPRESENTTEXT"); } if(value == "" && getemail == "" && getphone1 == ""){ helper.updateFieldValue("EMAILPHONEPRESENT", ""); helper.showField("EMAILPHONEPRESENTTEXT"); }}  );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2LABEL" >Telephone / Mobile 2</label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_PHONE2" value="" maxlength='255' class="icmtext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD271_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD271",
  fieldName : "FIELD271",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD271", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD271", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD271", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD271", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD271" ).html(helper.utilExpandTemplate( value ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD271"><div style="width:0.3em;"></div></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD272_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD272",
  fieldName : "FIELD272",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD272", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD272", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD272", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD272", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD272" ).html(value);
}); 
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD272">
<div class="infopopover"><a id="example1" href="#" data-content="Numbers, spaces, + , ( , and ) are all valid characters" data-title="Telephone/Mobile" data-placement="right" data-toggle="popover"><div class="glyphicon glyphicon-info-sign"></div></a><invalidTag type="text/javascript" src="assets/js/bootstrap.min.js"></script><invalidTag type="text/javascript"> $('#example1').popover(); $('#example1').click(function(e){ e.preventDefault(); return true;}) </script></div></div>
</li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILORPHONE_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILORPHONE",
  fieldName : "EMAILORPHONE",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span></span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT",
  fieldName : "EMAILPHONEPRESENT",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENTLABEL" >Telephone or email present?<em title="required">*</em> </label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENT" value="" maxlength='255' class="icmltext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENTTEXT_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENTTEXT",
  fieldName : "EMAILPHONEPRESENTTEXT",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "EMAILPHONEPRESENTTEXT", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "EMAILPHONEPRESENTTEXT", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "EMAILPHONEPRESENTTEXT", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "EMAILPHONEPRESENTTEXT", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENTTEXT" ).html(value);
}); 
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_EMAILPHONEPRESENTTEXT">
<div style="color:#ff0000;font-weight:bold;font-size:110%;padding:15px;background-color:#ffffff;">* Please enter at least one of:- <br /> Email address or Phone/Mobile number</div></div>
</li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD278_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD278",
  fieldName : "FIELD278",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span>Address Postcode</span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD279_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD279",
  fieldName : "FIELD279",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmhorizontal icmhide">
<legend class="icmhide"><span></span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD280_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD280",
  fieldName : "FIELD280",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD280", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD280", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD280", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD280", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD280" ).html(value);
}); 
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD280">
<style> .icmform fieldset fieldset.icmhorizontal ol { margin: 0.3em;"}</style></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD281_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD281",
  fieldName : "FIELD281",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD281", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD281", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD281", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD281", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD281" ).html(value);
}); 
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD281">
<div class="infopopover"><a id="example3" href="#" data-content="For an address with a postcode outside of West Berkshire, please enter the address manually by ticking the 'Not in West Berkshire?' checkbox" data-title="West Berkshire Postcode Search" data-placement="right" data-toggle="popover"><div class="glyphicon glyphicon-info-sign"></div></a><invalidTag type="text/javascript" src="assets/js/bootstrap.min.js"></script><invalidTag type="text/javascript"> $('#example3').popover(); $('#example3').click(function(e){ e.preventDefault(); return true;}) </script></div></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
    helper.registerCheckedInputField( {
        fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282",
        fieldName : "FIELD282",
        singleValue : true,
        supportErrorDisplay : true,
        supportEvents : true,
        supportShowHide : true,
        supportFocus : true,
        supportEnableDisable : true
} );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282_OUTERDIV' class='field_checkbox clear'><div class="icmsinglecheckbox">
<label id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282LABEL" for="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282" >Not in West Berkshire?</label>
<input type="hidden" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282" value=""/>
<input type="checkbox" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD282"  value="Yes" class="icmcheck" />
</div>
</div></li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODELBL3_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODELBL3",
  fieldName : "POSTCODELBL3",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmhorizontal icmhide">
<legend class="icmhide"><span></span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE",
  fieldName : "POSTCODE",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODELABEL" >Postcode<em title="required">*</em> </label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_POSTCODE" value="" maxlength='10' class="icmstext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSFIND3_OUTER'>		<script type="text/javascript" src="pGossCustom/FindAddressA.js"></script>
<script type="text/javascript">
	/* <![CDATA[ */
	function INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSFIND3_OnClick() {
		(function( helper ){ FindAddress('INCIDENTREPORTFORMV2_PERSONALDETAILS', document.location,'');; })(INCIDENTREPORTFORMV2Form);
	}
	/* ]]> */
</script>
<div class="icmbutton-surround script"><div class="icmbutton"><input type="button" value="Find" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSFIND3" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSFIND3" onclick="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSFIND3_OnClick()" /></div></div>
	<script type="text/javascript">
		/* <![CDATA[ */
		(function( helper ){
			helper.registerButtonField( {
				fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSFIND3",
				fieldName : "ADDRESSFIND3",
				actionButtons : [],
				supportShowHide : true,
				supportEnableDisable : true,
				supportFocus : true} );
			helper.registerCustomFieldFn( "ADDRESSFIND3", "click", function() {
				helper.utilTriggerClickEvent( "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSFIND3" );
			});
		})( INCIDENTREPORTFORMV2Form );
		/* ]]> */
	</script>
</li></ol></fieldset></li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSLBL_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESSLBL",
  fieldName : "ADDRESSLBL",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span>Address Details</span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1",
  fieldName : "ADDRESS1",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1LABEL" >Address Line 1<em title="required">*</em> </label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS1" value="" maxlength='255' class="icmtext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2",
  fieldName : "ADDRESS2",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2LABEL" >Address Line 2</label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS2" value="" maxlength='255' class="icmtext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3",
  fieldName : "ADDRESS3",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3LABEL" >Address Line 3</label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_ADDRESS3" value="" maxlength='255' class="icmtext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY",
  fieldName : "CITY",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_CITYLABEL" >Town / City<em title="required">*</em> </label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_CITY" value="" maxlength='255' class="icmtext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION",
  fieldName : "REGION",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_REGIONLABEL" >County</label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_REGION" value="" maxlength='255' class="icmtext" />
</div></li></ol></fieldset></li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD137_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD137",
  fieldName : "FIELD137",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span>2. Location of the Incident</span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD140_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD140",
  fieldName : "FIELD140",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD140", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD140", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD140", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD140", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD140" ).html(helper.utilExpandTemplate( value ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD140">IT IS ESSENTIAL THAT A PRECISE LOCATION OF THE INCIDENT IS PROVIDED. THE DESCRIPTION SHOULD BE REFERENCED TO LANDMARKS, ROAD JUNCTIONS, LAMP COLUMNS, TELEGRAPH POLES ETC AND WHERE POSSIBLE SUPPORTED BY A PHOTOGRAPHIC RECORD.</div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD184_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD184",
  fieldName : "FIELD184",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<hr />
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD300_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD300",
  fieldName : "FIELD300",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD300", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD300", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD300", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD300", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD300" ).html(helper.utilExpandTemplate( value ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD300"><div style="color: #19599A;font-weight: bold;font-size:105%;">Please provide precise details of the location of the incident using the text box and/or location map below</div></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD303_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD303",
  fieldName : "FIELD303",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD303", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD303", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD303", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD303", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD303" ).text(helper.utilExpandTemplate( value, true ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD303"></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299",
  fieldName : "FIELD299",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportFocus : true,
  supportEnableDisable : true
  } );
helper.registerFieldUpdateValueFn( "FIELD299", function( value ) {
    $("textarea#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299").val(value);
});
helper.registerFieldQueryValueFn("FIELD299", function() {
return $("textarea#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299").val();
});
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299_OUTERDIV' class='field_textarea clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299LABEL" >Location Details<em title="required">*</em> </label>
<textarea name="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD299" rows="7" class="icmltextarea" ></textarea>
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD302_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD302",
  fieldName : "FIELD302",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD302", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD302", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD302", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD302", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD302" ).text(helper.utilExpandTemplate( value, true ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD302"></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD301_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD301",
  fieldName : "FIELD301",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD301", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD301", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD301", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD301", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD301" ).text(helper.utilExpandTemplate( value, true ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD301"></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD267_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD267",
  fieldName : "FIELD267",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmhorizontal">
<legend><span>Add location on the map (optional)</span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD268_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD268",
  fieldName : "FIELD268",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD268", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD268", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD268", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD268", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD268" ).html(value);
}); 
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD268">
<div class="infopopover"><a id="example" href="#" data-content="Navigate to the area on the map that you require. Double click (desktop) or double tap (mobile/tablet device) to set the location marker." data-title="Add location to map" data-placement="right" data-toggle="popover"><div class="glyphicon glyphicon-info-sign"></div></a><invalidTag type="text/javascript" src="assets/js/bootstrap.min.js"></script><invalidTag type="text/javascript"> $('#example').popover(); $('#example').click(function(e){ e.preventDefault(); return true;}) </script></div></div>
</li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308",
  fieldName : "FIELD308",
  supportErrorDisplay : true,
  supportEvents : true,
  supportFocus : true,
  supportShowHide : true
  } );
// Register custom update function for location picker since it needs to update the map  
helper.registerFieldUpdateValueFn( "FIELD308", function( value ) {
    var splt,newPos,
    splt = value.split(",");
    if(splt.length === 2) {
        newPos = new google.maps.LatLng(parseFloat(splt[0]), parseFloat(splt[1]));
INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308locationPicker.updateLocation(newPos);
    } 
});
helper.registerCustomFieldFn( "FIELD308", "showMap", function() {
INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308locationPicker.showMap( "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308" );
});
helper.registerCustomFieldFn( "FIELD308", "hideMap", function() {
INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308locationPicker.hideMap( "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308" );
});
helper.registerCustomFieldFn( "FIELD308", "search", function( searchString ) {
    if ( searchString == undefined ) {
      throw new Error("LocationPicker: search searchString undefined");
    }
    $("#" + "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308address").val( searchString );
INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308locationPicker.onSearchClick();
});
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308_OUTERDIV' class='field_locationpicker clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308LABEL" class="icmhide">Label<em title="required">*</em> </label>
<div style="display: none;">
<input type="text"  name="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308" value = "51.402258,-1.323338" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308" maxlength="32" class="icmltext" />
</div>
<div class="icmbutton-surround locationmap inline">
<div class="icmbutton">
<input type="button" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308showmap" onclick="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308locationPicker.toggleMap('INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308')" value="Hide Map" />
</div>
</div>
  <div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308map_canvas" class="icmlocationmap" style="width: 450px; height: 450px; ">
</div>
<div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308input_fields" class="icmwizardbuttongroup" style="">
<input id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308address" type="text" onblur="this.value = this.value || this.defaultValue;" onfocus="this.value='';" onkeydown="return disableFormSubmission(event,'INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308')" value="Enter address or postcode" maxlength="50" class="icmltext" />
<div class="icmbutton-surround locationsearch inline">
<div class="icmbutton">
<input type="button" value="Search" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308search" onclick="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308locationPicker.onSearchClick()" />
</div>
</div>
</div>
</div><script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false&region=uk"></script>
<script type="text/javascript">
/* <![CDATA[ */
/* 
Proj4.js - Geographic coordinate conversion
Copyright (c) 2014, Mike Adair, Richard Greenwood, Didier Richard, Stephen
Irons, Olivier Terral and Calvin Metcalf
Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. */
!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.proj4=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function Point(a,b,c){if(!(this instanceof Point))return new Point(a,b,c);if(Array.isArray(a))this.x=a[0],this.y=a[1],this.z=a[2]||0;else if("object"==typeof a)this.x=a.x,this.y=a.y,this.z=a.z||0;else if("string"==typeof a&&"undefined"==typeof b){var d=a.split(",");this.x=parseFloat(d[0],10),this.y=parseFloat(d[1],10),this.z=parseFloat(d[2],10)||0}else this.x=a,this.y=b,this.z=c||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var c=a("mgrs");Point.fromMGRS=function(a){return new Point(c.toPoint(a))},Point.prototype.toMGRS=function(a){return c.forward([this.x,this.y],a)},b.exports=Point},{mgrs:35}],2:[function(a,b){function Projection(a,b){if(!(this instanceof Projection))return new Projection(a);b=b||function(a){if(a)throw a};var e=c(a);if("object"!=typeof e)return void b(a);var g=f(e),h=Projection.projections.get(g.projName);h?(d(this,g),d(this,h),this.init(),b(null,this)):b(a)}var c=a("./parseCode"),d=a("./extend"),e=a("./projections"),f=a("./deriveConstants");Projection.projections=e,Projection.projections.start(),b.exports=Projection},{"./deriveConstants":23,"./extend":24,"./parseCode":27,"./projections":29}],3:[function(a,b){b.exports=function(a,b,c){var d,e,f,g=c.x,h=c.y,i=c.z||0;for(f=0;3>f;f++)if(!b||2!==f||void 0!==c.z)switch(0===f?(d=g,e="x"):1===f?(d=h,e="y"):(d=i,e="z"),a.axis[f]){case"e":c[e]=d;break;case"w":c[e]=-d;break;case"n":c[e]=d;break;case"s":c[e]=-d;break;case"u":void 0!==c[e]&&(c.z=d);break;case"d":void 0!==c[e]&&(c.z=-d);break;default:return null}return c}},{}],4:[function(a,b){var c=2*Math.PI,d=a("./sign");b.exports=function(a){return Math.abs(a)<Math.PI?a:a-d(a)*c}},{"./sign":13}],5:[function(a,b){b.exports=function(a){return Math.abs(a)>1&&(a=a>1?1:-1),Math.asin(a)}},{}],6:[function(a,b){b.exports=function(a){return 1-.25*a*(1+a/16*(3+1.25*a))}},{}],7:[function(a,b){b.exports=function(a){return.375*a*(1+.25*a*(1+.46875*a))}},{}],8:[function(a,b){b.exports=function(a){return.05859375*a*a*(1+.75*a)}},{}],9:[function(a,b){b.exports=function(a){return a*a*a*(35/3072)}},{}],10:[function(a,b){b.exports=function(a,b,c,d,e){return a*e-b*Math.sin(2*e)+c*Math.sin(4*e)-d*Math.sin(6*e)}},{}],11:[function(a,b){b.exports=function(a,b,c){var d=a*b;return c/Math.sqrt(1-d*d)}},{}],12:[function(a,b){var c=Math.PI/2;b.exports=function(a,b){for(var d,e,f=.5*a,g=c-2*Math.atan(b),h=0;15>=h;h++)if(d=a*Math.sin(g),e=c-2*Math.atan(b*Math.pow((1-d)/(1+d),f))-g,g+=e,Math.abs(e)<=1e-10)return g;return-9999}},{}],13:[function(a,b){b.exports=function(a){return 0>a?-1:1}},{}],14:[function(a,b){b.exports=function(a){var b={x:a[0],y:a[1]};return a.length>2&&(b.z=a[2]),a.length>3&&(b.m=a[3]),b}},{}],15:[function(a,b){var c=Math.PI/2;b.exports=function(a,b,d){var e=a*d,f=.5*a;return e=Math.pow((1-e)/(1+e),f),Math.tan(.5*(c-b))/e}},{}],16:[function(a,b,c){c.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},c.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},c.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},c.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},c.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},c.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},c.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},c.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},c.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},c.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},c.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},c.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},c.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},c.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},c.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},c.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],17:[function(a,b,c){c.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},c.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},c.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},c.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},c.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},c.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},c.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},c.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},c.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},c.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},c.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},c.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},c.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},c.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},c.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},c.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},c.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},c.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},c.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},c.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},c.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},c.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},c.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},c.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},c.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},c.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},c.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},c.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},c.hough={a:6378270,rf:297,ellipseName:"Hough"},c.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},c.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},c.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},c.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},c.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},c.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},c.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},c.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},c.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},c.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},c.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},c.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},c.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},c.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],18:[function(a,b,c){c.greenwich=0,c.lisbon=-9.131906111111,c.paris=2.337229166667,c.bogota=-74.080916666667,c.madrid=-3.687938888889,c.rome=12.452333333333,c.bern=7.439583333333,c.jakarta=106.807719444444,c.ferro=-17.666666666667,c.brussels=4.367975,c.stockholm=18.058277777778,c.athens=23.7163375,c.oslo=10.722916666667},{}],19:[function(a,b){function c(a,b,c){var d;return Array.isArray(c)?(d=f(a,b,c),3===c.length?[d.x,d.y,d.z]:[d.x,d.y]):f(a,b,c)}function d(a){return a instanceof e?a:a.oProj?a.oProj:e(a)}function proj4(a,b,e){a=d(a);var f,h=!1;return"undefined"==typeof b?(b=a,a=g,h=!0):("undefined"!=typeof b.x||Array.isArray(b))&&(e=b,b=a,a=g,h=!0),b=d(b),e?c(a,b,e):(f={forward:function(d){return c(a,b,d)},inverse:function(d){return c(b,a,d)}},h&&(f.oProj=b),f)}var e=a("./Proj"),f=a("./transform"),g=e("WGS84");b.exports=proj4},{"./Proj":2,"./transform":33}],20:[function(a,b){var c=Math.PI/2,d=1,e=2,f=3,g=4,h=5,i=484813681109536e-20,j=1.0026,k=.3826834323650898,l=function(a){if(!(this instanceof l))return new l(a);if(this.datum_type=g,a){if(a.datumCode&&"none"===a.datumCode&&(this.datum_type=h),a.datum_params){for(var b=0;b<a.datum_params.length;b++)a.datum_params[b]=parseFloat(a.datum_params[b]);(0!==a.datum_params[0]||0!==a.datum_params[1]||0!==a.datum_params[2])&&(this.datum_type=d),a.datum_params.length>3&&(0!==a.datum_params[3]||0!==a.datum_params[4]||0!==a.datum_params[5]||0!==a.datum_params[6])&&(this.datum_type=e,a.datum_params[3]*=i,a.datum_params[4]*=i,a.datum_params[5]*=i,a.datum_params[6]=a.datum_params[6]/1e6+1)}this.datum_type=a.grids?f:this.datum_type,this.a=a.a,this.b=a.b,this.es=a.es,this.ep2=a.ep2,this.datum_params=a.datum_params,this.datum_type===f&&(this.grids=a.grids)}};l.prototype={compare_datums:function(a){return this.datum_type!==a.datum_type?!1:this.a!==a.a||Math.abs(this.es-a.es)>5e-11?!1:this.datum_type===d?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]:this.datum_type===e?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]&&this.datum_params[3]===a.datum_params[3]&&this.datum_params[4]===a.datum_params[4]&&this.datum_params[5]===a.datum_params[5]&&this.datum_params[6]===a.datum_params[6]:this.datum_type===f||a.datum_type===f?this.nadgrids===a.nadgrids:!0},geodetic_to_geocentric:function(a){var b,d,e,f,g,h,i,j=a.x,k=a.y,l=a.z?a.z:0,m=0;if(-c>k&&k>-1.001*c)k=-c;else if(k>c&&1.001*c>k)k=c;else if(-c>k||k>c)return null;return j>Math.PI&&(j-=2*Math.PI),g=Math.sin(k),i=Math.cos(k),h=g*g,f=this.a/Math.sqrt(1-this.es*h),b=(f+l)*i*Math.cos(j),d=(f+l)*i*Math.sin(j),e=(f*(1-this.es)+l)*g,a.x=b,a.y=d,a.z=e,m},geocentric_to_geodetic:function(a){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=1e-12,u=t*t,v=30,w=a.x,x=a.y,y=a.z?a.z:0;if(o=!1,b=Math.sqrt(w*w+x*x),d=Math.sqrt(w*w+x*x+y*y),b/this.a<t){if(o=!0,q=0,d/this.a<t)return r=c,void(s=-this.b)}else q=Math.atan2(x,w);e=y/d,f=b/d,g=1/Math.sqrt(1-this.es*(2-this.es)*f*f),j=f*(1-this.es)*g,k=e*g,p=0;do p++,i=this.a/Math.sqrt(1-this.es*k*k),s=b*j+y*k-i*(1-this.es*k*k),h=this.es*i/(i+s),g=1/Math.sqrt(1-h*(2-h)*f*f),l=f*(1-h)*g,m=e*g,n=m*j-l*k,j=l,k=m;while(n*n>u&&v>p);return r=Math.atan(m/Math.abs(l)),a.x=q,a.y=r,a.z=s,a},geocentric_to_geodetic_noniter:function(a){var b,d,e,f,g,h,i,l,m,n,o,p,q,r,s,t,u,v=a.x,w=a.y,x=a.z?a.z:0;if(v=parseFloat(v),w=parseFloat(w),x=parseFloat(x),u=!1,0!==v)b=Math.atan2(w,v);else if(w>0)b=c;else if(0>w)b=-c;else if(u=!0,b=0,x>0)d=c;else{if(!(0>x))return d=c,void(e=-this.b);d=-c}return g=v*v+w*w,f=Math.sqrt(g),h=x*j,l=Math.sqrt(h*h+g),n=h/l,p=f/l,o=n*n*n,i=x+this.b*this.ep2*o,t=f-this.a*this.es*p*p*p,m=Math.sqrt(i*i+t*t),q=i/m,r=t/m,s=this.a/Math.sqrt(1-this.es*q*q),e=r>=k?f/r-s:-k>=r?f/-r-s:x/q+s*(this.es-1),u===!1&&(d=Math.atan(q/r)),a.x=b,a.y=d,a.z=e,a},geocentric_to_wgs84:function(a){if(this.datum_type===d)a.x+=this.datum_params[0],a.y+=this.datum_params[1],a.z+=this.datum_params[2];else if(this.datum_type===e){var b=this.datum_params[0],c=this.datum_params[1],f=this.datum_params[2],g=this.datum_params[3],h=this.datum_params[4],i=this.datum_params[5],j=this.datum_params[6],k=j*(a.x-i*a.y+h*a.z)+b,l=j*(i*a.x+a.y-g*a.z)+c,m=j*(-h*a.x+g*a.y+a.z)+f;a.x=k,a.y=l,a.z=m}},geocentric_from_wgs84:function(a){if(this.datum_type===d)a.x-=this.datum_params[0],a.y-=this.datum_params[1],a.z-=this.datum_params[2];else if(this.datum_type===e){var b=this.datum_params[0],c=this.datum_params[1],f=this.datum_params[2],g=this.datum_params[3],h=this.datum_params[4],i=this.datum_params[5],j=this.datum_params[6],k=(a.x-b)/j,l=(a.y-c)/j,m=(a.z-f)/j;a.x=k+i*l-h*m,a.y=-i*k+l+g*m,a.z=h*k-g*l+m}}},b.exports=l},{}],21:[function(a,b){var c=1,d=2,e=3,f=5,g=6378137,h=.006694379990141316;b.exports=function(a,b,i){function j(a){return a===c||a===d}var k,l,m;if(a.compare_datums(b))return i;if(a.datum_type===f||b.datum_type===f)return i;var n=a.a,o=a.es,p=b.a,q=b.es,r=a.datum_type;if(r===e)if(0===this.apply_gridshift(a,0,i))a.a=g,a.es=h;else{if(!a.datum_params)return a.a=n,a.es=a.es,i;for(k=1,l=0,m=a.datum_params.length;m>l;l++)k*=a.datum_params[l];if(0===k)return a.a=n,a.es=a.es,i;r=a.datum_params.length>3?d:c}return b.datum_type===e&&(b.a=g,b.es=h),(a.es!==b.es||a.a!==b.a||j(r)||j(b.datum_type))&&(a.geodetic_to_geocentric(i),j(a.datum_type)&&a.geocentric_to_wgs84(i),j(b.datum_type)&&b.geocentric_from_wgs84(i),b.geocentric_to_geodetic(i)),b.datum_type===e&&this.apply_gridshift(b,1,i),a.a=n,a.es=o,b.a=p,b.es=q,i}},{}],22:[function(a,b){function c(a){var b=this;if(2===arguments.length){var d=arguments[1];c[a]="string"==typeof d?"+"===d[0]?e(arguments[1]):f(arguments[1]):d}else if(1===arguments.length){if(Array.isArray(a))return a.map(function(a){Array.isArray(a)?c.apply(b,a):c(a)});if("string"==typeof a){if(a in c)return c[a]}else"EPSG"in a?c["EPSG:"+a.EPSG]=a:"ESRI"in a?c["ESRI:"+a.ESRI]=a:"IAU2000"in a?c["IAU2000:"+a.IAU2000]=a:console.log(a);return}}var d=a("./global"),e=a("./projString"),f=a("./wkt");d(c),b.exports=c},{"./global":25,"./projString":28,"./wkt":34}],23:[function(a,b){var c=a("./constants/Datum"),d=a("./constants/Ellipsoid"),e=a("./extend"),f=a("./datum"),g=1e-10,h=.16666666666666666,i=.04722222222222222,j=.022156084656084655;b.exports=function(a){if(a.datumCode&&"none"!==a.datumCode){var b=c[a.datumCode];b&&(a.datum_params=b.towgs84?b.towgs84.split(","):null,a.ellps=b.ellipse,a.datumName=b.datumName?b.datumName:a.datumCode)}if(!a.a){var k=d[a.ellps]?d[a.ellps]:d.WGS84;e(a,k)}return a.rf&&!a.b&&(a.b=(1-1/a.rf)*a.a),(0===a.rf||Math.abs(a.a-a.b)<g)&&(a.sphere=!0,a.b=a.a),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=(a.a2-a.b2)/a.a2,a.e=Math.sqrt(a.es),a.R_A&&(a.a*=1-a.es*(h+a.es*(i+a.es*j)),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=0),a.ep2=(a.a2-a.b2)/a.b2,a.k0||(a.k0=1),a.axis||(a.axis="enu"),a.datum||(a.datum=f(a)),a}},{"./constants/Datum":16,"./constants/Ellipsoid":17,"./datum":20,"./extend":24}],24:[function(a,b){b.exports=function(a,b){a=a||{};var c,d;if(!b)return a;for(d in b)c=b[d],void 0!==c&&(a[d]=c);return a}},{}],25:[function(a,b){b.exports=function(a){a("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),a("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),a("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),a.WGS84=a["EPSG:4326"],a["EPSG:3785"]=a["EPSG:3857"],a.GOOGLE=a["EPSG:3857"],a["EPSG:900913"]=a["EPSG:3857"],a["EPSG:102113"]=a["EPSG:3857"]}},{}],26:[function(a,b){var proj4=a("./core");proj4.defaultDatum="WGS84",proj4.Proj=a("./Proj"),proj4.WGS84=new proj4.Proj("WGS84"),proj4.Point=a("./Point"),proj4.toPoint=a("./common/toPoint"),proj4.defs=a("./defs"),proj4.transform=a("./transform"),proj4.mgrs=a("mgrs"),proj4.version=a("../package.json").version,a("./includedProjections")(proj4),b.exports=proj4},{"../package.json":36,"./Point":1,"./Proj":2,"./common/toPoint":14,"./core":19,"./defs":22,"./includedProjections":"fxLQjl","./transform":33,mgrs:35}],27:[function(a,b){function c(a){return"string"==typeof a}function d(a){return a in h}function e(a){var b=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return b.reduce(function(b,c){return b+1+a.indexOf(c)},0)}function f(a){return"+"===a[0]}function g(a){return c(a)?d(a)?h[a]:e(a)?i(a):f(a)?j(a):void 0:a}var h=a("./defs"),i=a("./wkt"),j=a("./projString");b.exports=g},{"./defs":22,"./projString":28,"./wkt":34}],28:[function(a,b){var c=.017453292519943295,d=a("./constants/PrimeMeridian");b.exports=function(a){var b={},e={};a.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).forEach(function(a){var b=a.split("=");b.push(!0),e[b[0].toLowerCase()]=b[1]});var f,g,h,i={proj:"projName",datum:"datumCode",rf:function(a){b.rf=parseFloat(a,10)},lat_0:function(a){b.lat0=a*c},lat_1:function(a){b.lat1=a*c},lat_2:function(a){b.lat2=a*c},lat_ts:function(a){b.lat_ts=a*c},lon_0:function(a){b.long0=a*c},lon_1:function(a){b.long1=a*c},lon_2:function(a){b.long2=a*c},alpha:function(a){b.alpha=parseFloat(a)*c},lonc:function(a){b.longc=a*c},x_0:function(a){b.x0=parseFloat(a,10)},y_0:function(a){b.y0=parseFloat(a,10)},k_0:function(a){b.k0=parseFloat(a,10)},k:function(a){b.k0=parseFloat(a,10)},r_a:function(){b.R_A=!0},zone:function(a){b.zone=parseInt(a,10)},south:function(){b.utmSouth=!0},towgs84:function(a){b.datum_params=a.split(",").map(function(a){return parseFloat(a,10)})},to_meter:function(a){b.to_meter=parseFloat(a,10)},from_greenwich:function(a){b.from_greenwich=a*c},pm:function(a){b.from_greenwich=(d[a]?d[a]:parseFloat(a,10))*c},nadgrids:function(a){"@null"===a?b.datumCode="none":b.nadgrids=a},axis:function(a){var c="ewnsud";3===a.length&&-1!==c.indexOf(a.substr(0,1))&&-1!==c.indexOf(a.substr(1,1))&&-1!==c.indexOf(a.substr(2,1))&&(b.axis=a)}};for(f in e)g=e[f],f in i?(h=i[f],"function"==typeof h?h(g):b[h]=g):b[f]=g;return"string"==typeof b.datumCode&&"WGS84"!==b.datumCode&&(b.datumCode=b.datumCode.toLowerCase()),b}},{"./constants/PrimeMeridian":18}],29:[function(a,b,c){function d(a,b){var c=g.length;return a.names?(g[c]=a,a.names.forEach(function(a){f[a.toLowerCase()]=c}),this):(console.log(b),!0)}var e=[a("./projections/merc"),a("./projections/longlat")],f={},g=[];c.add=d,c.get=function(a){if(!a)return!1;var b=a.toLowerCase();return"undefined"!=typeof f[b]&&g[f[b]]?g[f[b]]:void 0},c.start=function(){e.forEach(d)}},{"./projections/longlat":30,"./projections/merc":31}],30:[function(a,b,c){function d(a){return a}c.init=function(){},c.forward=d,c.inverse=d,c.names=["longlat","identity"]},{}],31:[function(a,b,c){var d=a("../common/msfnz"),e=Math.PI/2,f=1e-10,g=57.29577951308232,h=a("../common/adjust_lon"),i=Math.PI/4,j=a("../common/tsfnz"),k=a("../common/phi2z");c.init=function(){var a=this.b/this.a;this.es=1-a*a,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):d(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},c.forward=function(a){var b=a.x,c=a.y;if(c*g>90&&-90>c*g&&b*g>180&&-180>b*g)return null;var d,k;if(Math.abs(Math.abs(c)-e)<=f)return null;if(this.sphere)d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0+this.a*this.k0*Math.log(Math.tan(i+.5*c));else{var l=Math.sin(c),m=j(this.e,c,l);d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0-this.a*this.k0*Math.log(m)}return a.x=d,a.y=k,a},c.inverse=function(a){var b,c,d=a.x-this.x0,f=a.y-this.y0;if(this.sphere)c=e-2*Math.atan(Math.exp(-f/(this.a*this.k0)));else{var g=Math.exp(-f/(this.a*this.k0));if(c=k(this.e,g),-9999===c)return null}return b=h(this.long0+d/(this.a*this.k0)),a.x=b,a.y=c,a},c.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":4,"../common/msfnz":11,"../common/phi2z":12,"../common/tsfnz":15}],32:[function(a,b,c){var d=a("../common/e0fn"),e=a("../common/e1fn"),f=a("../common/e2fn"),g=a("../common/e3fn"),h=a("../common/mlfn"),i=a("../common/adjust_lon"),j=Math.PI/2,k=1e-10,l=a("../common/sign"),m=a("../common/asinz");c.init=function(){this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},c.forward=function(a){var b,c,d,e=a.x,f=a.y,g=i(e-this.long0),j=Math.sin(f),k=Math.cos(f);if(this.sphere){var l=k*Math.sin(g);if(Math.abs(Math.abs(l)-1)<1e-10)return 93;c=.5*this.a*this.k0*Math.log((1+l)/(1-l)),b=Math.acos(k*Math.cos(g)/Math.sqrt(1-l*l)),0>f&&(b=-b),d=this.a*this.k0*(b-this.lat0)}else{var m=k*g,n=Math.pow(m,2),o=this.ep2*Math.pow(k,2),p=Math.tan(f),q=Math.pow(p,2);b=1-this.es*Math.pow(j,2);var r=this.a/Math.sqrt(b),s=this.a*h(this.e0,this.e1,this.e2,this.e3,f);c=this.k0*r*m*(1+n/6*(1-q+o+n/20*(5-18*q+Math.pow(q,2)+72*o-58*this.ep2)))+this.x0,d=this.k0*(s-this.ml0+r*p*n*(.5+n/24*(5-q+9*o+4*Math.pow(o,2)+n/30*(61-58*q+Math.pow(q,2)+600*o-330*this.ep2))))+this.y0}return a.x=c,a.y=d,a},c.inverse=function(a){var b,c,d,e,f,g,h=6;if(this.sphere){var n=Math.exp(a.x/(this.a*this.k0)),o=.5*(n-1/n),p=this.lat0+a.y/(this.a*this.k0),q=Math.cos(p);b=Math.sqrt((1-q*q)/(1+o*o)),f=m(b),0>p&&(f=-f),g=0===o&&0===q?this.long0:i(Math.atan2(o,q)+this.long0)}else{var r=a.x-this.x0,s=a.y-this.y0;for(b=(this.ml0+s/this.k0)/this.a,c=b,e=0;!0&&(d=(b+this.e1*Math.sin(2*c)-this.e2*Math.sin(4*c)+this.e3*Math.sin(6*c))/this.e0-c,c+=d,!(Math.abs(d)<=k));e++)if(e>=h)return 95;if(Math.abs(c)<j){var t=Math.sin(c),u=Math.cos(c),v=Math.tan(c),w=this.ep2*Math.pow(u,2),x=Math.pow(w,2),y=Math.pow(v,2),z=Math.pow(y,2);b=1-this.es*Math.pow(t,2);var A=this.a/Math.sqrt(b),B=A*(1-this.es)/b,C=r/(A*this.k0),D=Math.pow(C,2);f=c-A*v*D/B*(.5-D/24*(5+3*y+10*w-4*x-9*this.ep2-D/30*(61+90*y+298*w+45*z-252*this.ep2-3*x))),g=i(this.long0+C*(1-D/6*(1+2*y+w-D/20*(5-2*w+28*y-3*x+8*this.ep2+24*z)))/u)}else f=j*l(s),g=this.long0}return a.x=g,a.y=f,a},c.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":4,"../common/asinz":5,"../common/e0fn":6,"../common/e1fn":7,"../common/e2fn":8,"../common/e3fn":9,"../common/mlfn":10,"../common/sign":13}],33:[function(a,b){var c=.017453292519943295,d=57.29577951308232,e=1,f=2,g=a("./datum_transform"),h=a("./adjust_axis"),i=a("./Proj"),j=a("./common/toPoint");b.exports=function k(a,b,l){function m(a,b){return(a.datum.datum_type===e||a.datum.datum_type===f)&&"WGS84"!==b.datumCode}var n;return Array.isArray(l)&&(l=j(l)),a.datum&&b.datum&&(m(a,b)||m(b,a))&&(n=new i("WGS84"),k(a,n,l),a=n),"enu"!==a.axis&&h(a,!1,l),"longlat"===a.projName?(l.x*=c,l.y*=c):(a.to_meter&&(l.x*=a.to_meter,l.y*=a.to_meter),a.inverse(l)),a.from_greenwich&&(l.x+=a.from_greenwich),l=g(a.datum,b.datum,l),b.from_greenwich&&(l.x-=b.from_greenwich),"longlat"===b.projName?(l.x*=d,l.y*=d):(b.forward(l),b.to_meter&&(l.x/=b.to_meter,l.y/=b.to_meter)),"enu"!==b.axis&&h(b,!0,l),l}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":14,"./datum_transform":21}],34:[function(a,b){function c(a,b,c){a[b]=c.map(function(a){var b={};return d(a,b),b}).reduce(function(a,b){return i(a,b)},{})}function d(a,b){var e;return Array.isArray(a)?(e=a.shift(),"PARAMETER"===e&&(e=a.shift()),1===a.length?Array.isArray(a[0])?(b[e]={},d(a[0],b[e])):b[e]=a[0]:a.length?"TOWGS84"===e?b[e]=a:(b[e]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(e)>-1?(b[e]={name:a[0].toLowerCase(),convert:a[1]},3===a.length&&(b[e].auth=a[2])):"SPHEROID"===e?(b[e]={name:a[0],a:a[1],rf:a[2]},4===a.length&&(b[e].auth=a[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(e)>-1?(a[0]=["name",a[0]],c(b,e,a)):a.every(function(a){return Array.isArray(a)})?c(b,e,a):d(a,b[e])):b[e]=!0,void 0):void(b[a]=!0)}function e(a,b){var c=b[0],d=b[1];!(c in a)&&d in a&&(a[c]=a[d],3===b.length&&(a[c]=b[2](a[c])))}function f(a){return a*h}function g(a){function b(b){var c=a.to_meter||1;return parseFloat(b,10)*c}"GEOGCS"===a.type?a.projName="longlat":"LOCAL_CS"===a.type?(a.projName="identity",a.local=!0):a.projName="object"==typeof a.PROJECTION?Object.keys(a.PROJECTION)[0]:a.PROJECTION,a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),"metre"===a.units&&(a.units="meter"),a.UNIT.convert&&(a.to_meter=parseFloat(a.UNIT.convert,10))),a.GEOGCS&&(a.datumCode=a.GEOGCS.DATUM?a.GEOGCS.DATUM.name.toLowerCase():a.GEOGCS.name.toLowerCase(),"d_"===a.datumCode.slice(0,2)&&(a.datumCode=a.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===a.datumCode||"new_zealand_1949"===a.datumCode)&&(a.datumCode="nzgd49"),"wgs_1984"===a.datumCode&&("Mercator_Auxiliary_Sphere"===a.PROJECTION&&(a.sphere=!0),a.datumCode="wgs84"),"_ferro"===a.datumCode.slice(-6)&&(a.datumCode=a.datumCode.slice(0,-6)),"_jakarta"===a.datumCode.slice(-8)&&(a.datumCode=a.datumCode.slice(0,-8)),~a.datumCode.indexOf("belge")&&(a.datumCode="rnb72"),a.GEOGCS.DATUM&&a.GEOGCS.DATUM.SPHEROID&&(a.ellps=a.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke_18/,"clrk"),"international"===a.ellps.toLowerCase().slice(0,13)&&(a.ellps="intl"),a.a=a.GEOGCS.DATUM.SPHEROID.a,a.rf=parseFloat(a.GEOGCS.DATUM.SPHEROID.rf,10)),~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36")),a.b&&!isFinite(a.b)&&(a.b=a.a);var c=function(b){return e(a,b)},d=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",f],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",f],["x0","false_easting",b],["y0","false_northing",b],["long0","central_meridian",f],["lat0","latitude_of_origin",f],["lat0","standard_parallel_1",f],["lat1","standard_parallel_1",f],["lat2","standard_parallel_2",f],["alpha","azimuth",f],["srsCode","name"]];d.forEach(c),a.long0||!a.longc||"Albers_Conic_Equal_Area"!==a.PROJECTION&&"Lambert_Azimuthal_Equal_Area"!==a.PROJECTION||(a.long0=a.longc)}var h=.017453292519943295,i=a("./extend");b.exports=function(a,b){var c=JSON.parse((","+a).replace(/s*,s*([A-Z_0-9]+?)([)/g,',["$1",').slice(1).replace(/s*,s*([A-Z_0-9]+?)]/g,',"$1"]')),e=c.shift(),f=c.shift();c.unshift(["name",f]),c.unshift(["type",e]),c.unshift("output");var h={};return d(c,h),g(h.output),i(b,h.output)}},{"./extend":24}],35:[function(a,b,c){function d(a){return a*(Math.PI/180)}function e(a){return 180*(a/Math.PI)}function f(a){var b,c,e,f,g,i,j,k,l,m=a.lat,n=a.lon,o=6378137,p=.00669438,q=.9996,r=d(m),s=d(n);l=Math.floor((n+180)/6)+1,180===n&&(l=60),m>=56&&64>m&&n>=3&&12>n&&(l=32),m>=72&&84>m&&(n>=0&&9>n?l=31:n>=9&&21>n?l=33:n>=21&&33>n?l=35:n>=33&&42>n&&(l=37)),b=6*(l-1)-180+3,k=d(b),c=p/(1-p),e=o/Math.sqrt(1-p*Math.sin(r)*Math.sin(r)),f=Math.tan(r)*Math.tan(r),g=c*Math.cos(r)*Math.cos(r),i=Math.cos(r)*(s-k),j=o*((1-p/4-3*p*p/64-5*p*p*p/256)*r-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*r)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*r)-35*p*p*p/3072*Math.sin(6*r));var t=q*e*(i+(1-f+g)*i*i*i/6+(5-18*f+f*f+72*g-58*c)*i*i*i*i*i/120)+5e5,u=q*(j+e*Math.tan(r)*(i*i/2+(5-f+9*g+4*g*g)*i*i*i*i/24+(61-58*f+f*f+600*g-330*c)*i*i*i*i*i*i/720));return 0>m&&(u+=1e7),{northing:Math.round(u),easting:Math.round(t),zoneNumber:l,zoneLetter:h(m)}}function g(a){var b=a.northing,c=a.easting,d=a.zoneLetter,f=a.zoneNumber;if(0>f||f>60)return null;var h,i,j,k,l,m,n,o,p,q,r=.9996,s=6378137,t=.00669438,u=(1-Math.sqrt(1-t))/(1+Math.sqrt(1-t)),v=c-5e5,w=b;"N">d&&(w-=1e7),o=6*(f-1)-180+3,h=t/(1-t),n=w/r,p=n/(s*(1-t/4-3*t*t/64-5*t*t*t/256)),q=p+(3*u/2-27*u*u*u/32)*Math.sin(2*p)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*p)+151*u*u*u/96*Math.sin(6*p),i=s/Math.sqrt(1-t*Math.sin(q)*Math.sin(q)),j=Math.tan(q)*Math.tan(q),k=h*Math.cos(q)*Math.cos(q),l=s*(1-t)/Math.pow(1-t*Math.sin(q)*Math.sin(q),1.5),m=v/(i*r);var x=q-i*Math.tan(q)/l*(m*m/2-(5+3*j+10*k-4*k*k-9*h)*m*m*m*m/24+(61+90*j+298*k+45*j*j-252*h-3*k*k)*m*m*m*m*m*m/720);x=e(x);var y=(m-(1+2*j+k)*m*m*m/6+(5-2*k+28*j-3*k*k+8*h+24*j*j)*m*m*m*m*m/120)/Math.cos(q);y=o+e(y);var z;if(a.accuracy){var A=g({northing:a.northing+a.accuracy,easting:a.easting+a.accuracy,zoneLetter:a.zoneLetter,zoneNumber:a.zoneNumber});z={top:A.lat,right:A.lon,bottom:x,left:y}}else z={lat:x,lon:y};return z}function h(a){var b="Z";return 84>=a&&a>=72?b="X":72>a&&a>=64?b="W":64>a&&a>=56?b="V":56>a&&a>=48?b="U":48>a&&a>=40?b="T":40>a&&a>=32?b="S":32>a&&a>=24?b="R":24>a&&a>=16?b="Q":16>a&&a>=8?b="P":8>a&&a>=0?b="N":0>a&&a>=-8?b="M":-8>a&&a>=-16?b="L":-16>a&&a>=-24?b="K":-24>a&&a>=-32?b="J":-32>a&&a>=-40?b="H":-40>a&&a>=-48?b="G":-48>a&&a>=-56?b="F":-56>a&&a>=-64?b="E":-64>a&&a>=-72?b="D":-72>a&&a>=-80&&(b="C"),b}function i(a,b){var c=""+a.easting,d=""+a.northing;return a.zoneNumber+a.zoneLetter+j(a.easting,a.northing,a.zoneNumber)+c.substr(c.length-5,b)+d.substr(d.length-5,b)}function j(a,b,c){var d=k(c),e=Math.floor(a/1e5),f=Math.floor(b/1e5)%20;return l(e,f,d)}function k(a){var b=a%q;return 0===b&&(b=q),b}function l(a,b,c){var d=c-1,e=r.charCodeAt(d),f=s.charCodeAt(d),g=e+a-1,h=f+b,i=!1;g>x&&(g=g-x+t-1,i=!0),(g===u||u>e&&g>u||(g>u||u>e)&&i)&&g++,(g===v||v>e&&g>v||(g>v||v>e)&&i)&&(g++,g===u&&g++),g>x&&(g=g-x+t-1),h>w?(h=h-w+t-1,i=!0):i=!1,(h===u||u>f&&h>u||(h>u||u>f)&&i)&&h++,(h===v||v>f&&h>v||(h>v||v>f)&&i)&&(h++,h===u&&h++),h>w&&(h=h-w+t-1);var j=String.fromCharCode(g)+String.fromCharCode(h);return j}function m(a){if(a&&0===a.length)throw"MGRSPoint coverting from nothing";for(var b,c=a.length,d=null,e="",f=0;!/[A-Z]/.test(b=a.charAt(f));){if(f>=2)throw"MGRSPoint bad conversion from: "+a;e+=b,f++}var g=parseInt(e,10);if(0===f||f+3>c)throw"MGRSPoint bad conversion from: "+a;var h=a.charAt(f++);if("A">=h||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+a;d=a.substring(f,f+=2);for(var i=k(g),j=n(d.charAt(0),i),l=o(d.charAt(1),i);l<p(h);)l+=2e6;var m=c-f;if(m%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+a;var q,r,s,t,u,v=m/2,w=0,x=0;return v>0&&(q=1e5/Math.pow(10,v),r=a.substring(f,f+v),w=parseFloat(r)*q,s=a.substring(f+v),x=parseFloat(s)*q),t=w+j,u=x+l,{easting:t,northing:u,zoneLetter:h,zoneNumber:g,accuracy:q}}function n(a,b){for(var c=r.charCodeAt(b-1),d=1e5,e=!1;c!==a.charCodeAt(0);){if(c++,c===u&&c++,c===v&&c++,c>x){if(e)throw"Bad character: "+a;c=t,e=!0}d+=1e5}return d}function o(a,b){if(a>"V")throw"MGRSPoint given invalid Northing "+a;for(var c=s.charCodeAt(b-1),d=0,e=!1;c!==a.charCodeAt(0);){if(c++,c===u&&c++,c===v&&c++,c>w){if(e)throw"Bad character: "+a;c=t,e=!0}d+=1e5}return d}function p(a){var b;switch(a){case"C":b=11e5;break;case"D":b=2e6;break;case"E":b=28e5;break;case"F":b=37e5;break;case"G":b=46e5;break;case"H":b=55e5;break;case"J":b=64e5;break;case"K":b=73e5;break;case"L":b=82e5;break;case"M":b=91e5;break;case"N":b=0;break;case"P":b=8e5;break;case"Q":b=17e5;break;case"R":b=26e5;break;case"S":b=35e5;break;case"T":b=44e5;break;case"U":b=53e5;break;case"V":b=62e5;break;case"W":b=7e6;break;case"X":b=79e5;break;default:b=-1}if(b>=0)return b;throw"Invalid zone letter: "+a}var q=6,r="AJSAJS",s="AFAFAF",t=65,u=73,v=79,w=86,x=90;c.forward=function(a,b){return b=b||5,i(f({lat:a[1],lon:a[0]}),b)},c.inverse=function(a){var b=g(m(a.toUpperCase()));return[b.left,b.bottom,b.right,b.top]},c.toPoint=function(a){var b=c.inverse(a);return[(b[2]+b[0])/2,(b[3]+b[1])/2]}},{}],36:[function(a,b){b.exports={name:"proj4",version:"2.2.3-alpha",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"0.0.0"}}
},{}],fxLQjl:[function(a,b){var c=[a("./lib/projections/tmerc")];b.exports=function(proj4){c.forEach(function(a){proj4.Proj.projections.add(a)})}},{"./lib/projections/tmerc":32}],"./includedProjections":[function(a,b){b.exports=a("fxLQjl")},{}]},{},[26])(26)});
proj4.defs('ESPG:27700', '+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489 +units=m +no_defs');
parseGridRef = function(osgbref) {
var prefixes = [
["SV","SW","SX","SY","SZ","TV","TW"],
["SQ","SR","SS","ST","SU","TQ","TR"],
["SL","SM","SN","SO","SP","TL","TM"],
["SF","SG","SH","SJ","SK","TF","TG"],
["SA","SB","SC","SD","SE","TA","TB"],
["NV","NW","NX","NY","NZ","OV","OW"],
["NQ","NR","NS","NT","NU","OQ","OR"],
["NL","NM","NN","NO","NP","OL","OM"],
["NF","NG","NH","NJ","NK","OF","OG"],
["NA","NB","NC","ND","NE","OA","OB"],
["HV","HW","HX","HY","HZ","JV","JW"],
["HQ","HR","HS","HT","HU","JQ","JR"],
["HL","HM","HN","HO","HP","JL","JM"]],
northings = 0, eastings = 0, precision, x, y, patstr, pattern, gridRef, gridSheet, gridEast, gridNorth, mult;
for (precision = 5; precision >= 1; precision--) {
patstr = "^([A-Z]{2})\\s*(\\d{" + precision + "})\\s*(\\d{" + precision + "})$";
pattern = new RegExp(patstr, "i");
gridRef = osgbref.match(pattern);
if (gridRef) {
gridSheet = gridRef[1].toUpperCase();
gridEast = 0;
gridNorth = 0;
if (precision > 0) {
mult = Math.pow(10, 5 - precision);
gridEast = parseInt(gridRef[2], 10) * mult;
gridNorth = parseInt(gridRef[3], 10) * mult;
}
for (y = 0; y < prefixes.length; y++) {
for (x = 0; x < prefixes[y].length; x++) {
if (prefixes[y][x] == gridSheet) {
eastings = (x * 100000) + gridEast;
northings = (y * 100000) + gridNorth;
return [eastings, northings];
}}}}}
throw new Error("Can't translate GridRef");
}
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
function LocationPicker(fieldId, zoom, centrelatlon, latlon, setmarker, autodefault, maptype) {
var map;
var marker;
var geocoder;
var defaultLat, defaultLng, defaultPos = null, defaultAddress, defaultZoom, enableGeoLocate = false, markerPos, centreLat, centreLng, centrePos = null;
var infoWindowContent, infoWindow;
var mapContainer;
var inputContainer;
var LAT_MAX = 85.0488503581;
var LAT_MIN = -85.0488503581;
var splt;
var suppliedDefaultLatLon = latlon;
this.initialize = function() {
mapContainer = $("#" + fieldId + "map_canvas");
inputContainer = $("#" + fieldId + "input_fields");
geocoder = new google.maps.Geocoder();
infoWindow = new google.maps.InfoWindow();
defaultZoom = zoom;
splt = latlon.split(",");
if(splt.length === 2) {
defaultLat = parseFloat(splt[0]);
defaultLng = parseFloat(splt[1]);
defaultPos = new google.maps.LatLng(defaultLat, defaultLng, true);
} 
splt = centrelatlon.split(",");
if(splt.length === 2) {
centreLat = parseFloat(splt[0]);
centreLng = parseFloat(splt[1]);
centrePos = new google.maps.LatLng(centreLat, centreLng, true);
}
if ( defaultPos === null ) {
 setmarker = false;
 defaultPos = centrePos;
} 
if (centrePos === null) {  
centrePos = new google.maps.LatLng(51.5, -0.13);
}
var myOptions = {
zoom: defaultZoom,
center: centrePos,
mapTypeId: maptype,
mapTypeControl:true,
streetViewControl:true
};
if ( setmarker ) {
 markerPos = defaultPos;
} else {
 markerPos = new google.maps.LatLng(90, 0);
}
map = new google.maps.Map($("#" + fieldId + "map_canvas")[0], myOptions);
marker = new google.maps.Marker({
map: map,
position: markerPos,
clickable: true,
draggable: true
});
if ( setmarker ) {
moveMarker(markerPos);
reverseGeocode(markerPos);
}
if( (autodefault) && (navigator.geolocation) ) {
 navigator.geolocation.getCurrentPosition(function (loc) {
 // Only move if geo locate is still enabled
 if ( enableGeoLocate ) {
 map.setCenter(new google.maps.LatLng(loc.coords.latitude, loc.coords.longitude));
 moveMarker(new google.maps.LatLng(loc.coords.latitude, loc.coords.longitude));
 }
 }, function(errCode) {
   // Position not available
 }, {timeout:30000} );
};
google.maps.event.addListener(map, 'dblclick', function (event) {
var clickLocation;
if (event.latLng.lat() < LAT_MAX && event.latLng.lat() > LAT_MIN) {
clickLocation = new google.maps.LatLng(event.latLng.lat(), event.latLng.lng());
} else if (event.latLng.lat() > LAT_MAX) {
clickLocation = new google.maps.LatLng(LAT_MAX, event.latLng.lng());
} else {
clickLocation = new google.maps.LatLng(LAT_MIN, event.latLng.lng());
}
infoWindow.close();
moveMarker(clickLocation);
reverseGeocode(clickLocation);
});
google.maps.event.addListener(marker, 'dragstart', function (event) {
infoWindow.close();
});
google.maps.event.addListener(marker, 'dragend', function (event) {
var dropLocation;
if (event.latLng.lat() < LAT_MAX && event.latLng.lat() > LAT_MIN) {
dropLocation = new google.maps.LatLng(event.latLng.lat(), event.latLng.lng());
} else if (event.latLng.lat() > LAT_MAX) {
dropLocation = new google.maps.LatLng(LAT_MAX, event.latLng.lng());
} else if (event.latLng.lat() < LAT_MIN) {
dropLocation = new google.maps.LatLng(LAT_MIN, event.latLng.lng());
}
map.setCenter(dropLocation);
moveMarker(dropLocation);
reverseGeocode(dropLocation);
});
enableGeoLocate = autodefault;
google.maps.event.addListener(marker, 'click', function (event) {
infoWindow.setContent(infoWindowContent);
infoWindow.open(map, marker);
});
$("#" + fieldId).attr("readOnly", true);
};
this.updateLocation = function(location) {
map.setCenter(location);
marker.setPosition(location);
$("#" + fieldId).val(roundNumber(location.lat(), 10).toString() + "," + roundNumber(location.lng(), 10).toString() );
$("#" + fieldId).trigger("change");
enableGeoLocate = false;
};
this.onSearchClick = function() {
var searchValue = $( "#" + fieldId + "address").val().replace(/^\s+|\s+$/g, '');
searchValue = processSearch(searchValue);
};
this.showMap = function(fieldID) {
if ( mapContainer.css("display") !== 'block' ) {
    this.toggleMap(fieldID);
}
};
this.hideMap = function(fieldID) {
if ( mapContainer.css("display") === 'block' ) {
    this.toggleMap(fieldID);
}
};
this.toggleMap = function(fieldID) {
var centre = map.getCenter();
inputContainer.css("display", mapContainer.css("display") === 'block' ? 'none' : 'block');
mapContainer.css("display", mapContainer.css("display") === 'block' ? 'none' : 'block');
google.maps.event.trigger(map, 'resize');
map.setCenter(centre);
if ($("#" + fieldID + "showmap").val() === "Map") {
$("#" + fieldID + "showmap").val("Hide Map");
} else {
$("#" + fieldID + "showmap").val("Map");
}
INCIDENTREPORTFORMV2Form.utilFieldSizeChanged( "FIELD308" );
};
function processSearch(location) {
var osgb, wgs84;
var posn = null;
try{
if(/^[HJNOSThjnost][A-HJ-Za-hj-z][ 0-9]+$/.test(location)) {
wgs84 = proj4('ESPG:27700', 'WGS84', parseGridRef(location));
posn = new google.maps.LatLng(wgs84[1], wgs84[0]);
}
else if(/^[0-9]+ [0-9]+$/.test(location)) {
var coords = location.split(" ");
wgs84 = proj4('ESPG:27700', 'WGS84', [parseInt(coords[0], 10), parseInt(coords[1], 10)]);
posn = new google.maps.LatLng(wgs84.latitude, wgs84.longitude);
}
else if(/[NnSs+-]?[0-9](.[0-9]*)?(\s)*,(\s)*[EeWw+-]?[0-9](.[0-9]*)?/.test(location)) {
location = location.replace(/[NnEe]/, "").replace(/[SsWw]/, "-").replace(/\s*/g, "");
latlong = location.split(",");
posn = new google.maps.LatLng(parseFloat(latlong[0]), parseFloat(latlong[1]));
}
if(posn === null) {
geocodeFromAddress(location);
} else {
map.setCenter(posn);
moveMarker(posn);
reverseGeocode(posn);
}}catch(e){}
return posn;
}
function geocodeFromAddress(searchValue) {
infoWindow.close();
geocoder.geocode({
'address': searchValue
}, function (results, status) {
if (status === google.maps.GeocoderStatus.OK && results[0]) {
map.setCenter(results[0].geometry.location);
moveMarker(results[0].geometry.location);
infoWindowContent = createInfoWindowContent(results[0].formatted_address, results[0].geometry.location_type, results[0].geometry.location.lat(), results[0].geometry.location.lng());
} else {
infoWindowContent = "No address results";
}
});
}
function reverseGeocode(latlng) {
geocoder.geocode({
'latLng': latlng
}, function (results, status) {
if (status === google.maps.GeocoderStatus.OK && results[0]) {
infoWindowContent = createInfoWindowContent(results[0].formatted_address, results[0].geometry.location_type, results[0].geometry.location.lat(), results[0].geometry.location.lng());
} else {
infoWindowContent = "No address results.";
}
});
}
function moveMarker(location) {
marker.setPosition(location);
$("#" + fieldId).val(roundNumber(location.lat(), 10).toString() + "," + roundNumber(location.lng(), 10).toString() );
$("#" + fieldId).trigger("change");
enableGeoLocate = false;
};
this.resetToDefaultPos = function() {
map.setZoom(defaultZoom);
map.setCenter(centrePos);
marker.setPosition(markerPos);
$("#" + fieldId).val( suppliedDefaultLatLon );
$("#" + fieldId + "address").val( "Enter address or postcode" );
$("#" + fieldId).trigger("change");
};
this.clearPos = function() {
marker.setPosition(new google.maps.LatLng(90, 0));
$("#" + fieldId).val( "" );
$("#" + fieldId + "address").val( "Enter address or postcode" );
$("#" + fieldId).trigger("change");
};
function createInfoWindowContent(address, accuracy, lat, lng) {
var accuracyDescription;
switch(accuracy) {
case "APPROXIMATE":
accuracyDescription = "Average";
break;
case "GEOMETRIC_CENTER":
accuracyDescription = "Good";
break;
case "RANGE_INTERPOLATED":
accuracyDescription = "Excellent";
break;
case "ROOFTOP":
accuracyDescription = "Exact";
break;
default:
accuracyDescription = "Unknown";
}
infoWindowContent = "<b>Address:</b> " + address;
return infoWindowContent;
}
}
function disableFormSubmission(e, fieldID) {
var key;
var searchButton = fieldID + 'search';
//IE
if (window.event) {
key = window.event.keyCode;
if (key === 13) {
$("#" + searchButton).click();
window.event.cancelBubble = true;
window.event.returnValue = false;
}
//Firefox
} else {
key = e.which;
if (key === 13) {
$("#" + searchButton).click();
return false;
} else {
return true;
}
}
}
function roundNumber(rNum, roundTo) {
var newnumber = Math.round(rNum*Math.pow(10,roundTo))/Math.pow(10,roundTo);
return newnumber;
}
function setAddressFields(fieldId, address) {
// Do nothing
}
var INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308locationPicker = new LocationPicker(
"INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308",
15,
"51.402258,-1.323338",
"51.402258,-1.323338",
true,
false,
google.maps.MapTypeId.ROADMAP);
INCIDENTREPORTFORMV2Form.registerFieldInitFn( "FIELD308", function() {
INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD308locationPicker.initialize();
} );
/* ]]> */
</script>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD185_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD185",
  fieldName : "FIELD185",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<hr />
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD322_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD322",
  fieldName : "FIELD322",
  supportShowHide : true
  } );
helper.registerFieldInitFn( "FIELD322", function( helper, pageName, pageInstance ) {
    if ( pageInstance === 0 ) {
      helper.executeEventHandlers( "FIELD322", helper.EVENT_NEWPAGEINIT, false );
    } else {
      helper.executeEventHandlers( "FIELD322", helper.EVENT_PAGEINIT, false );
    }
} );
helper.registerFieldUpdateValueFn( "FIELD322", function( value ) {
$( "#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD322" ).text(helper.utilExpandTemplate( value, true ));
});    
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
  <div class="icmguidance icmguidanceleft" id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD322"></div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141",
  fieldName : "FIELD141",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141LABEL" >(i) Street Name<em title="required">*</em> </label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD141" value="" maxlength='255' class="icmltext" />
</div></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerInputField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142",
  fieldName : "FIELD142",
  supportErrorDisplay : true,
  supportEvents : true,
  supportShowHide : true,
  supportEnableDisable : true,
  supportFocus : true
  } );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142_OUTERDIV' class='field_text clear'><label for='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142' id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142LABEL" >(ii) Outside House No.<em title="required">*</em> </label>
<input type="text" name="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142"  id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD142" value="" maxlength='255' class="icmltext" />
</div></li></ol></fieldset></li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD190_OUTER'><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD190",
  fieldName : "FIELD190",
  supportShowHide : true
  } );
})( INCIDENTREPORTFORMV2Form );  
/* ]]> */
</script>
<fieldset class="icmvertical">
<legend><span></span></legend>
<ol><li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_OUTER'  style="display:none"  ><!-- #CONTAINER: { style="display:none" } --><script type="text/javascript">
/* <![CDATA[ */
(function( helper ){
helper.registerSimpleField( {
  fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76",
  fieldName : "FIELD76",
  supportShowHide : true
  } );
helper.registerGlobalErrorClearAllFn( function() {
    $("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_OL > li").remove();
    helper.hideField( "FIELD76" );
    return !true;
} );  
helper.registerGlobalErrorClearFn( function( fieldName ) {
    $("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_OL > #INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_LI_" + fieldName ).remove();
    if ($("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_OL > li").length === 0) {
        helper.hideField( "FIELD76" );
    }
    return !true;
} );  
helper.registerGlobalErrorDisplayFn( function( fieldName, valFailure, valFailures ) {
    var li = $("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_LI_" + fieldName),ul,thisFieldPos = 0,i,existingFields,inserted = false,orderedFields=["HIDDENUNQFORMREFNO","FIELD318","FIELD319","FIELD320","FIELD321","FIELD49","SELECT1DISPL","TITLE","OTHERSPECIFY","FIRSTNAME","SURNAME","FIELD90","EMAIL","V2TELMOB2","PHONE1","FIELD275","FIELD276","V2TELMOB","PHONE2","FIELD271","FIELD272","EMAILORPHONE","EMAILPHONEPRESENT","EMAILPHONEPRESENTTEXT","FIELD278","FIELD279","FIELD280","FIELD281","FIELD282","POSTCODELBL3","POSTCODE","ADDRESSFIND3","ADDRESSLBL","ADDRESS1","ADDRESS2","ADDRESS3","CITY","REGION","FIELD137","FIELD140","FIELD184","FIELD300","FIELD303","FIELD299","FIELD302","FIELD301","FIELD267","FIELD268","FIELD308","FIELD185","FIELD322","FIELD141","FIELD142","FIELD190","FIELD76","FIELD135"];
    if ( li.length === 0 ) {
        li = $("<li>", { id : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_LI_" + fieldName } );
        li.append( $("<strong>").text(valFailure["DESC"]) );
        ul = $("<ul>", { id : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_UL_" + fieldName } );
        li.append( ul );
        // Locate first field with an error after the one we are trying to add and insert this error before it
        existingFields = $("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_OL > li");
        if ( existingFields.length > 0 ) {
            for ( i = 0; i < orderedFields.length; i++ ) {
                if ( orderedFields[i] === fieldName ) {
                    thisFieldPos = i;
                    break;
                }
            }
            for ( i = (thisFieldPos+1); i < orderedFields.length; i++ ) {
                if ( $("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_LI_" + orderedFields[i]).length > 0 ) {
                    $("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_LI_" + orderedFields[i]).before( li );
                    inserted = true;
                    break;
                }
            }
        }
        if ( !inserted ) {
            // This needs to be the first error
            $("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_OL").append( li );
        }
    } else {
        ul = $("#INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_UL_" + fieldName);
    }
    ul.append( $("<li>").text(valFailure["ERRMSG"]) );    
    helper.showField( "FIELD76" );
    return !true;
} );
})( INCIDENTREPORTFORMV2Form );
/* ]]> */
</script>
<div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_OUTERDIV" class="field_valerrors clear">
    <div id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_ERRORBLOCK" class="errorblock">
    <fieldset class="icmvertical">
    <legend><span>* Please correct any of the validation issues highlighted above</span></legend>
        <ol id="INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD76_OL" class="field_valerrors">
        </ol>
    </fieldset>
    </div>
</div>
</li> <li id='INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD135_OUTER'>    <div class="icmwizardbuttongroup">
        <div class="icmbutton-surround next">
        <div class="icmbutton">
        <input type="submit"
            id="INCIDENTREPORTFORMV2_FORMACTION_NEXT"
            value="Next"
            name="INCIDENTREPORTFORMV2_FORMACTION_NEXT"
onclick="return INCIDENTREPORTFORMV2Form.validateFormClient(document.getElementById('INCIDENTREPORTFORMV2_FORM') )" />
        </div>
        </div>
    </div >
    <script type="text/javascript">
        /* <![CDATA[ */
        (function( helper ){
            helper.registerButtonField( {
                fieldID : "INCIDENTREPORTFORMV2_PERSONALDETAILS_FIELD135",
                fieldName : "FIELD135",
                actionButtons : ['NEXT'],
                supportShowHide : true,
                supportEnableDisable : true,
                supportFocus : true} );
        })( INCIDENTREPORTFORMV2Form );
        /* ]]> */
    </script>
</li></ol></fieldset></li></ol></div>
</form>
<script type="text/javascript"> 
    /* <![CDATA[ */
INCIDENTREPORTFORMV2Form.registerFormInitFn( function (helper, fieldName, value, valid, event) {var unqtxt = 'xx-4x-yx'.replace(/[xy]/g, function(c) {var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);return v.toString(16);}); var QueryString = function () { var query_string = {}; var query = window.location.search.substring(1); var vars = query.split("&"); for (var i=0;i<vars.length;i++) { var pair = vars[i].split("="); if (typeof query_string[pair[0]] === "undefined") { query_string[pair[0]] = pair[1]; } else if (typeof query_string[pair[0]] === "string") { var arr = [ query_string[pair[0]], pair[1] ]; query_string[pair[0]] = arr; } else { query_string[pair[0]].push(pair[1]); } } return query_string;} ();var artidqs = QueryString.articleid;helper.updateFieldValue("HIDDENUNQFORMREFNO", artidqs + "-" + unqtxt);var hidrefno = helper.queryFieldValue("HIDDENUNQFORMREFNO");helper.updateFieldValue("GTEXTUNQFORMREFNO",hidrefno );} );
    /* ]]> */
</script>
</div></div></div>





<div>
	<br />
	<p id="dataprotectionlink">Information about data protection is available at <a href="http://info.westberks.gov.uk/index.aspx?articleid=27937" target="_blank">www.westberks.gov.uk/dataprotection</a></p>
</div>
                        <!--googleoff: all-->                        
                                
                                    <!-- The Right Column -->
                                    <!-- optional blocks for related media, articles,features, offsite links and contacts. -->
                                    
	
		
	
		
		



                                
                            
                    </div>
                </div>


                
            </div>
            

                    
<div id="pageinfobar" class="container">
    <div class="row">
            <div class="col-md-5 col-sm-6 col-xs-6 hidden-xs">
            <div class="footer_pagedate">
                
            </div>
        </div> 
        <div class="col-md-4 col-sm-4 col-xs-4 hidden-xs">
            
            
        </div>
        <div class="col-md-3 col-sm-6 col-xs-12 col-vs-12">
            <div class="footer_social">
                <div id="social">
                    <div id="social_links">
                        <a href="http://www.westberks.gov.uk/facebook" title="Link to Facebook"><span id="social_facebook"
                            class="social_icon"><span class="hidefromview">Facebook</span></span></a><a href="http://www.westberks.gov.uk/twitter"
                                title="Link to Twitter"><span id="social_twitter" class="social_icon"><span class="hidefromview">Twitter</span></span></a>
                        <a href="http://www.westberks.gov.uk/google" title="Link to Google+"><span id="social_google"
                            class="social_icon"><span class="hidefromview">Google+</span></span></a>
                    </div>
                </div>
            </div>
        </div>
   </div>
</div>


                
            

                    <div id="footer" class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div id="footer_logoimage">
                                </div>
                                <br id="footer_contactdetailsspacer" style="clear: both" />
                                <div id="footer_contactdetails">
    <div id="footer_postaladdress" class="footer_contactitem">
        Council Offices, <span id="footer_longaddress">Market Street, Newbury, </span>RG14 5LD
    </div>
    <!--<div class="footer_email footer footer_contactitem">
        <a href="mailto:info@westberks.gov.uk">info@westberks.gov.uk</a>
    </div>-->
    <div id="footer_phonenumber" class="footer_contactitem">
        <div class="row">
            <div class="footer_phone_item">
                <div class="col-sm-8"><a href="/index.aspx?articleid=28660" title="Link to main switchboard information" class="footer_contact_item">Main Switchboard</a></div>
                <div class="col-sm-4">01635 42400</div>
            </div>
        </div>
        <div class="row">
            <div class="footer_phone_item">
                <div class="col-sm-8"><a href="/index.aspx?articleid=30263" title="Link to out of hours information" class="footer_contact_item">Out Of Hours Emergency</a></div>
                <div class="col-sm-4">01635 42161</div>
            </div>

        </div>
    </div>
</div>

                            </div>
                            <br style="clear: both" />
                            <div id="footer_nav">
                                


		<div id="bottomutilnav" class="navbar hidden-vs">
			<ul class="nav">
	
		
				<li class="footer_nav_item">
					<a href="http://www.westberks.gov.uk/index.aspx?articleid=29403" title="Link to Cookies">Cookies</a>
				</li>
			
	
		
				<li class="footer_nav_item">
					<a href="http://www.westberks.gov.uk/index.aspx?articleid=29423" title="Link to Site Map">Site Map</a>
				</li>
			
	
		
				<li class="footer_nav_item">
					<a href="http://www.westberks.gov.uk/index.aspx?articleid=29440" title="Link to Privacy Policy">Privacy Policy</a>
				</li>
			
	
		
				<li class="footer_nav_item">
					<a href="http://www.westberks.gov.uk/index.aspx?articleid=29622" title="Link to Login">Login</a>
				</li>
			
	
		
				<li class="footer_nav_item">
					<a href="http://www.westberks.gov.uk/index.aspx?articleid=31920" title="Link to Accessibility">Accessibility</a>
				</li>
			
	
			</ul>
		</div> 
	




                            </div>
                        </div>
                    </div>

                
            
                

	



            
        </div>
        <script type="text/javascript" src="./shared/js/main_page.js"></script>
        
<script type="text/javascript" src="./shared/js/bootstrap.js"></script>


        
                
                
            
        <script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
  m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-48440595-3', 'auto');
    ga('create', 'UA-48440595-2', 'auto', { 'name': 'newTracker' });  // New tracker.
    ga('send', 'pageview');
    ga('newTracker.send', 'pageview'); // Send page view for new tracker.


</script>



        <!--googleon: all-->        </div>

    </body>
    </html>


